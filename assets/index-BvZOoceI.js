(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function R0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},Pl={};var Iv;function nw(){if(Iv)return Pl;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Nv;function iw(){return Nv||(Nv=1,dm.exports=nw()),dm.exports}var b=iw(),mm={exports:{}},be={};var Dv;function rw(){if(Dv)return be;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,F={};function W(V,ee,ae){this.props=V,this.context=ee,this.refs=F,this.updater=ae||Q}W.prototype.isReactComponent={},W.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},W.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=W.prototype;function ie(V,ee,ae){this.props=V,this.context=ee,this.refs=F,this.updater=ae||Q}var _e=ie.prototype=new Z;_e.constructor=ie,q(_e,W.prototype),_e.isPureReactComponent=!0;var Ce=Array.isArray;function Ae(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function T(V,ee,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:ee,ref:ue!==void 0?ue:null,props:ae}}function D(V,ee){return T(V.type,ee,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ee[ae]})}var C=/\/+/g;function et(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):ee.toString(36)}function st(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ae,Ae):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,ee,ae,ue,ve){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,Y(Ue(V._payload),ee,ae,ue,ve)}}if(Ue)return ve=ve(V),Ue=ue===""?"."+et(V,0):ue,Ce(ve)?(ae="",Ue!=null&&(ae=Ue.replace(C,"$&/")+"/"),Y(ve,ee,ae,"",function(ys){return ys})):ve!=null&&(O(ve)&&(ve=D(ve,ae+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(C,"$&/")+"/")+Ue)),ee.push(ve)),1;Ue=0;var Dt=ue===""?".":ue+":";if(Ce(V))for(var at=0;at<V.length;at++)ue=V[at],Re=Dt+et(ue,at),Ue+=Y(ue,ee,ae,Re,ve);else if(at=k(V),typeof at=="function")for(V=at.call(V),at=0;!(ue=V.next()).done;)ue=ue.value,Re=Dt+et(ue,at++),Ue+=Y(ue,ee,ae,Re,ve);else if(Re==="object"){if(typeof V.then=="function")return Y(st(V),ee,ae,ue,ve);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,ee,ae){if(V==null)return V;var ue=[],ve=0;return Y(V,ue,"","",function(Re){return ee.call(ae,Re,ve++)}),ue}function fe(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var De=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qe={map:se,forEach:function(V,ee,ae){se(V,function(){ee.apply(this,arguments)},ae)},count:function(V){var ee=0;return se(V,function(){ee++}),ee},toArray:function(V){return se(V,function(ee){return ee})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return be.Activity=A,be.Children=qe,be.Component=W,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},be.cache=function(V){return function(){return V.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(V,ee,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=q({},V.props),ve=V.key;if(ee!=null)for(Re in ee.key!==void 0&&(ve=""+ee.key),ee)!x.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(ue[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Ue=Array(Re),Dt=0;Dt<Re;Dt++)Ue[Dt]=arguments[Dt+2];ue.children=Ue}return T(V.type,ve,ue)},be.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},be.createElement=function(V,ee,ae){var ue,ve={},Re=null;if(ee!=null)for(ue in ee.key!==void 0&&(Re=""+ee.key),ee)x.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=ee[ue]);var Ue=arguments.length-2;if(Ue===1)ve.children=ae;else if(1<Ue){for(var Dt=Array(Ue),at=0;at<Ue;at++)Dt[at]=arguments[at+2];ve.children=Dt}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)ve[ue]===void 0&&(ve[ue]=Ue[ue]);return T(V,Re,ve)},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:m,render:V}},be.isValidElement=O,be.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:fe}},be.memo=function(V,ee){return{$$typeof:p,type:V,compare:ee===void 0?null:ee}},be.startTransition=function(V){var ee=I.T,ae={};I.T=ae;try{var ue=V(),ve=I.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ae,De)}catch(Re){De(Re)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),I.T=ee}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(V){return I.H.use(V)},be.useActionState=function(V,ee,ae){return I.H.useActionState(V,ee,ae)},be.useCallback=function(V,ee){return I.H.useCallback(V,ee)},be.useContext=function(V){return I.H.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V,ee){return I.H.useDeferredValue(V,ee)},be.useEffect=function(V,ee){return I.H.useEffect(V,ee)},be.useEffectEvent=function(V){return I.H.useEffectEvent(V)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(V,ee,ae){return I.H.useImperativeHandle(V,ee,ae)},be.useInsertionEffect=function(V,ee){return I.H.useInsertionEffect(V,ee)},be.useLayoutEffect=function(V,ee){return I.H.useLayoutEffect(V,ee)},be.useMemo=function(V,ee){return I.H.useMemo(V,ee)},be.useOptimistic=function(V,ee){return I.H.useOptimistic(V,ee)},be.useReducer=function(V,ee,ae){return I.H.useReducer(V,ee,ae)},be.useRef=function(V){return I.H.useRef(V)},be.useState=function(V){return I.H.useState(V)},be.useSyncExternalStore=function(V,ee,ae){return I.H.useSyncExternalStore(V,ee,ae)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.3",be}var Ov;function hp(){return Ov||(Ov=1,mm.exports=rw()),mm.exports}var H=hp();const sw=R0(H);var pm={exports:{}},Ul={},gm={exports:{}},ym={};var Mv;function aw(){return Mv||(Mv=1,(function(r){function e(Y,se){var fe=Y.length;Y.push(se);e:for(;0<fe;){var De=fe-1>>>1,qe=Y[De];if(0<o(qe,se))Y[De]=se,Y[fe]=qe,fe=De;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],fe=Y.pop();if(fe!==se){Y[0]=fe;e:for(var De=0,qe=Y.length,V=qe>>>1;De<V;){var ee=2*(De+1)-1,ae=Y[ee],ue=ee+1,ve=Y[ue];if(0>o(ae,fe))ue<qe&&0>o(ve,ae)?(Y[De]=ve,Y[ue]=fe,De=ue):(Y[De]=ae,Y[ee]=fe,De=ee);else if(ue<qe&&0>o(ve,fe))Y[De]=ve,Y[ue]=fe,De=ue;else break e}}return se}function o(Y,se){var fe=Y.sortIndex-se.sortIndex;return fe!==0?fe:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,A=null,R=3,k=!1,Q=!1,q=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function _e(Y){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=Y)s(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function Ce(Y){if(q=!1,_e(Y),!Q)if(n(g)!==null)Q=!0,Ae||(Ae=!0,L());else{var se=n(p);se!==null&&st(Ce,se.startTime-Y)}}var Ae=!1,I=-1,x=5,T=-1;function D(){return F?!0:!(r.unstable_now()-T<x)}function O(){if(F=!1,Ae){var Y=r.unstable_now();T=Y;var se=!0;try{e:{Q=!1,q&&(q=!1,Z(I),I=-1),k=!0;var fe=R;try{t:{for(_e(Y),A=n(g);A!==null&&!(A.expirationTime>Y&&D());){var De=A.callback;if(typeof De=="function"){A.callback=null,R=A.priorityLevel;var qe=De(A.expirationTime<=Y);if(Y=r.unstable_now(),typeof qe=="function"){A.callback=qe,_e(Y),se=!0;break t}A===n(g)&&s(g),_e(Y)}else s(g);A=n(g)}if(A!==null)se=!0;else{var V=n(p);V!==null&&st(Ce,V.startTime-Y),se=!1}}break e}finally{A=null,R=fe,k=!1}se=void 0}}finally{se?L():Ae=!1}}}var L;if(typeof ie=="function")L=function(){ie(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,et=C.port2;C.port1.onmessage=O,L=function(){et.postMessage(null)}}else L=function(){W(O,0)};function st(Y,se){I=W(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var fe=R;R=se;try{return Y()}finally{R=fe}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=R;R=Y;try{return se()}finally{R=fe}},r.unstable_scheduleCallback=function(Y,se,fe){var De=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?De+fe:De):fe=De,Y){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=fe+qe,Y={id:E++,callback:se,priorityLevel:Y,startTime:fe,expirationTime:qe,sortIndex:-1},fe>De?(Y.sortIndex=fe,e(p,Y),n(g)===null&&Y===n(p)&&(q?(Z(I),I=-1):q=!0,st(Ce,fe-De))):(Y.sortIndex=qe,e(g,Y),Q||k||(Q=!0,Ae||(Ae=!0,L()))),Y},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(Y){var se=R;return function(){var fe=R;R=se;try{return Y.apply(this,arguments)}finally{R=fe}}}})(ym)),ym}var Vv;function ow(){return Vv||(Vv=1,gm.exports=aw()),gm.exports}var _m={exports:{}},$t={};var kv;function lw(){if(kv)return $t;kv=1;var r=hp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},$t.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},$t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},$t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,p){return g(p)},$t.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var Lv;function uw(){if(Lv)return _m.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=lw(),_m.exports}var Pv;function cw(){if(Pv)return Ul;Pv=1;var r=ow(),e=hp(),n=uw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case W:return"Profiler";case F:return"StrictMode";case Ce:return"Suspense";case Ae:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ie:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:et(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return et(t(i))}catch{}}return null}var st=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},De=[],qe=-1;function V(t){return{current:t}}function ee(t){0>qe||(t.current=De[qe],De[qe]=null,qe--)}function ae(t,i){qe++,De[qe]=t.current,t.current=i}var ue=V(null),ve=V(null),Re=V(null),Ue=V(null);function Dt(t,i){switch(ae(Re,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?W_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=W_(i),t=Z_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),ae(ue,t)}function at(){ee(ue),ee(ve),ee(Re)}function ys(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=Z_(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function ha(t){ve.current===t&&(ee(ue),ee(ve)),Ue.current===t&&(ee(Ue),Ml._currentValue=fe)}var fa,da;function si(t){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+da}var Mo=!1;function _s(t,i){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var B=K}Reflect.construct(t,[],J)}else{try{J.call()}catch(K){B=K}t.call(J.prototype)}}else{try{throw Error()}catch(K){B=K}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&B&&typeof K.stack=="string")return[K.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),z=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return si("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,pf=r.unstable_shouldYield,Cu=r.unstable_requestPaint,en=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,Lo=r.unstable_ImmediatePriority,Po=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,gf=r.unstable_LowPriority,Iu=r.unstable_IdlePriority,Nu=r.log,Du=r.unstable_setDisableYieldValue,qn=null,zt=null;function Sn(t){if(typeof Nu=="function"&&Du(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var dt=Math.clz32?Math.clz32:Mu,Ou=Math.log,ma=Math.LN2;function Mu(t){return t>>>=0,t===0?32:31-(Ou(t)/ma|0)|0}var ai=256,Es=262144,Et=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=oi(l):(_&=S,_!==0?h=oi(_):a||(a=S&~t,a!==0&&(h=oi(a))))):(S=l&~d,S!==0?h=oi(S):_!==0?h=oi(_):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _f(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-dt(a),J=1<<$;S[$]=0,N[$]=-1;var B=z[$];if(B!==null)for(z[$]=null,$=0;$<B.length;$++){var K=B[$];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&Ts(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ts(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function jo(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ku(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Tv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,ci="__reactContainer$"+Gn,pa="__reactEvents$"+Gn,vf="__reactListeners$"+Gn,Lu="__reactHandles$"+Gn,Pu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function ga(t){delete t[bt],delete t[Lt],delete t[pa],delete t[vf],delete t[Lu]}function fi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=av(t);t!==null;){if(a=t[bt])return a;t=av(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[bt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Pu];return i||(i=t[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[hi]=!0}var zo=new Set,Bo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Bo[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Uu(t){return vt.call(Fo,t)?!0:vt.call(Ho,t)?!1:qo.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function ya(t,i,a){if(Uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=gr(t)?"checked":"value";t._valueTracker=Go(t,i,""+t[i])}}function Ss(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=gr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ws=/[\n"\\]/g;function rn(t){return t.replace(ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ko(t,_,Pt(i)):a!=null?Ko(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function ju(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Ko(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function yr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function zu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function _r(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Qo(t,d,i[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var $o=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Er=null,yi=null;function Rs(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ss(l)}break e;case"textarea":zu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&yr(t,!!a.multiple,i,!1)}}}var ba=!1;function br(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(Er!==null||yi!==null)&&(kc(),Er&&(i=Er,t=yi,yi=Er=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(xn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){xs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{xs=!1}var _i=null,Xo=null,Cs=null;function Jo(){if(Cs)return Cs;var t,i=Xo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Cs=h.slice(t,1<l?1-l:void 0)}function Is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(Pi),Tr=A({},Pi,{view:0,detail:0}),Wo=Bt(Tr),Ar,Ta,Ei,Aa=A({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ar=t.screenX-Ei.screenX,Ta=t.screenY-Ei.screenY):Ta=Ar=0,Ei=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Zo=Bt(Aa),Ns=A({},Aa,{dataTransfer:0}),Hu=Bt(Ns),Fu=A({},Tr,{relatedTarget:0}),Ds=Bt(Fu),el=A({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Bt(el),Sa=A({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=Bt(Sa),Qu=A({},Pi,{data:0}),bi=Bt(Qu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xu[t])?!!i[t]:!1}function Sr(){return Ju}var tn=A({},Tr,{key:function(t){if(t.key){var i=Yu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wu=Bt(tn),Zu=A({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Bt(Zu),c=A({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),y=Bt(c),v=A({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Bt(v),U=A({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Bt(U),re=A({},Pi,{newState:0,oldState:0}),Se=Bt(re),mt=[9,13,27,32],He=xn&&"CompositionEvent"in window,ot=null;xn&&"documentMode"in document&&(ot=document.documentMode);var Cn=xn&&"TextEvent"in window&&!ot,Ti=xn&&(!He||ot&&8<ot&&11>=ot),$n=" ",Xn=!1;function Os(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function RA(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Xn=!0,$n);case"textInput":return t=i.data,t===$n&&Xn?null:t;default:return null}}function xA(t,i){if(Ra)return t==="compositionend"||!He&&Os(t,i)?(t=Jo(),Cs=Xo=_i=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!CA[t.type]:i==="textarea"}function cg(t,i,a,l){Er?yi?yi.push(l):yi=[l]:Er=l,i=qc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var tl=null,nl=null;function IA(t){K_(t,0)}function ec(t){var i=dn(t);if(Ss(i))return t}function hg(t,i){if(t==="change")return i}var fg=!1;if(xn){var Ef;if(xn){var bf="oninput"in document;if(!bf){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),bf=typeof dg.oninput=="function"}Ef=bf}else Ef=!1;fg=Ef&&(!document.documentMode||9<document.documentMode)}function mg(){tl&&(tl.detachEvent("onpropertychange",pg),nl=tl=null)}function pg(t){if(t.propertyName==="value"&&ec(nl)){var i=[];cg(i,nl,t,Rn(t)),br(IA,i)}}function NA(t,i,a){t==="focusin"?(mg(),tl=i,nl=a,tl.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function DA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(nl)}function OA(t,i){if(t==="click")return ec(i)}function MA(t,i){if(t==="input"||t==="change")return ec(i)}function VA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:VA;function il(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kA=xn&&"documentMode"in document&&11>=document.documentMode,xa=null,Af=null,rl=null,Sf=!1;function Eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||xa==null||xa!==gi(l)||(l=xa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=qc(Af,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},wf={},bg={};xn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Vs(t){if(wf[t])return wf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in bg)return wf[t]=i[a];return t}var Tg=Vs("animationend"),Ag=Vs("animationiteration"),Sg=Vs("animationstart"),LA=Vs("transitionrun"),PA=Vs("transitionstart"),UA=Vs("transitioncancel"),wg=Vs("transitionend"),Rg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Jn(t,i){Rg.set(t,i),mi(i,[t])}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],Ia=0,xf=0;function nc(){for(var t=Ia,i=xf=Ia=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&xg(a,h,d)}}function ic(t,i,a,l){In[Ia++]=t,In[Ia++]=i,In[Ia++]=a,In[Ia++]=l,xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,i,a,l){return ic(t,i,a,l),rc(t)}function ks(t,i){return ic(t,null,null,i),rc(t)}function xg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(t){if(50<Rl)throw Rl=0,Pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function jA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new jA(t,i,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")If(t)&&(_=1);else if(typeof t=="string")_=FS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=gn(31,a,i,h),t.elementType=T,t.lanes=d,t;case q:return Ls(a.children,h,d,i);case F:_=8,h|=24;break;case W:return t=gn(12,a,i,h|2),t.elementType=W,t.lanes=d,t;case Ce:return t=gn(13,a,i,h),t.elementType=Ce,t.lanes=d,t;case Ae:return t=gn(19,a,i,h),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case Z:_=9;break e;case _e:_=11;break e;case I:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function Nf(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function Ig(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ng=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=Ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},Ng.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var Da=[],Oa=0,ac=null,sl=0,Dn=[],On=0,wr=null,Ai=1,Si="";function zi(t,i){Da[Oa++]=sl,Da[Oa++]=ac,ac=t,sl=i}function Dg(t,i,a){Dn[On++]=Ai,Dn[On++]=Si,Dn[On++]=wr,wr=t;var l=Ai;t=Si;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ai=1<<32-dt(i)+h|a<<h|l,Si=d+t}else Ai=1<<d|a<<h|l,Si=t}function Of(t){t.return!==null&&(zi(t,1),Dg(t,1,0))}function Mf(t){for(;t===ac;)ac=Da[--Oa],Da[Oa]=null,sl=Da[--Oa],Da[Oa]=null;for(;t===wr;)wr=Dn[--On],Dn[On]=null,Si=Dn[--On],Dn[On]=null,Ai=Dn[--On],Dn[On]=null}function Og(t,i){Dn[On++]=Ai,Dn[On++]=Si,Dn[On++]=wr,Ai=i.id,Si=i.overflow,wr=t}var qt=null,it=null,Pe=!1,Rr=null,Mn=!1,Vf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Nn(i,t)),Vf}function Mg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ne(Cl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),_r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||X_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||xr(t,!0)}function Vg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Ma(t){if(t!==qt)return!1;if(!Pe)return Vg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&it&&xr(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=sv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=sv(t)}else i===27?(i=it,Br(t.type)?(t=im,im=null,it=t):it=i):it=qt?kn(t.stateNode.nextSibling):null;return!0}function Ps(){it=qt=null,Pe=!1}function kf(){var t=Rr;return t!==null&&(un===null?un=t:un.push.apply(un,t),Rr=null),t}function al(t){Rr===null?Rr=[t]:Rr.push(t)}var Lf=V(null),Us=null,Bi=null;function Cr(t,i,a){ae(Lf,i._currentValue),i._currentValue=a}function qi(t){t._currentValue=Lf.current,ee(Lf)}function Pf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Uf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Pf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Pf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&Uf(i,t,a,l),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Us=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return kg(Us,t)}function lc(t,i){return Us===null&&js(t),kg(t,i)}function kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var zA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BA=r.unstable_scheduleCallback,qA=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new zA,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&BA(qA,function(){t.controller.abort()})}var ll=null,zf=0,ka=0,La=null;function HA(t,i){if(ll===null){var a=ll=[];zf=0,ka=Hd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,i.then(Lg,Lg),i}function Lg(){if(--zf===0&&ll!==null){La!==null&&(La.status="fulfilled");var t=ll;ll=null,ka=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pg=Y.S;Y.S=function(t,i){E_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HA(t,i),Pg!==null&&Pg(t,i)};var zs=V(null);function Bf(){var t=zs.current;return t!==null?t:Ze.pooledCache}function uc(t,i){i===null?ae(zs,zs.current):ae(zs,i.pool)}function Ug(){var t=Bf();return t===null?null:{parent:St._currentValue,pool:t}}var Pa=Error(s(460)),qf=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t}throw qs=i,Pa}}function Bs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,Pa):a}}var qs=null;function Bg(){if(qs===null)throw Error(s(459));var t=qs;return qs=null,t}function qg(t){if(t===Pa||t===cc)throw Error(s(483))}var Ua=null,ul=0;function fc(t){var i=ul;return ul+=1,Ua===null&&(Ua=[]),zg(Ua,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dc(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){function i(P,M){if(t){var j=P.deletions;j===null?(P.deletions=[M],P.flags|=16):j.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=ji(P,M),P.index=0,P.sibling=null,P}function d(P,M,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<M?(P.flags|=67108866,M):j):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,M,j,X){return M===null||M.tag!==6?(M=Nf(j,P.mode,X),M.return=P,M):(M=h(M,j),M.return=P,M)}function N(P,M,j,X){var de=j.type;return de===q?$(P,M,j.props.children,X,j.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&Bs(de)===M.type)?(M=h(M,j.props),cl(M,j),M.return=P,M):(M=sc(j.type,j.key,j.props,null,P.mode,X),cl(M,j),M.return=P,M)}function z(P,M,j,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Df(j,P.mode,X),M.return=P,M):(M=h(M,j.children||[]),M.return=P,M)}function $(P,M,j,X,de){return M===null||M.tag!==7?(M=Ls(j,P.mode,X,de),M.return=P,M):(M=h(M,j),M.return=P,M)}function J(P,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nf(""+M,P.mode,j),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return j=sc(M.type,M.key,M.props,null,P.mode,j),cl(j,M),j.return=P,j;case Q:return M=Df(M,P.mode,j),M.return=P,M;case x:return M=Bs(M),J(P,M,j)}if(st(M)||L(M))return M=Ls(M,P.mode,j,null),M.return=P,M;if(typeof M.then=="function")return J(P,fc(M),j);if(M.$$typeof===ie)return J(P,lc(P,M),j);dc(P,M)}return null}function B(P,M,j,X){var de=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:S(P,M,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return j.key===de?N(P,M,j,X):null;case Q:return j.key===de?z(P,M,j,X):null;case x:return j=Bs(j),B(P,M,j,X)}if(st(j)||L(j))return de!==null?null:$(P,M,j,X,null);if(typeof j.then=="function")return B(P,M,fc(j),X);if(j.$$typeof===ie)return B(P,M,lc(P,j),X);dc(P,j)}return null}function K(P,M,j,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(j)||null,S(M,P,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return P=P.get(X.key===null?j:X.key)||null,N(M,P,X,de);case Q:return P=P.get(X.key===null?j:X.key)||null,z(M,P,X,de);case x:return X=Bs(X),K(P,M,j,X,de)}if(st(X)||L(X))return P=P.get(j)||null,$(M,P,X,de,null);if(typeof X.then=="function")return K(P,M,j,fc(X),de);if(X.$$typeof===ie)return K(P,M,j,lc(M,X),de);dc(M,X)}return null}function ce(P,M,j,X){for(var de=null,ze=null,he=M,xe=M=0,Me=null;he!==null&&xe<j.length;xe++){he.index>xe?(Me=he,he=null):Me=he.sibling;var Be=B(P,he,j[xe],X);if(Be===null){he===null&&(he=Me);break}t&&he&&Be.alternate===null&&i(P,he),M=d(Be,M,xe),ze===null?de=Be:ze.sibling=Be,ze=Be,he=Me}if(xe===j.length)return a(P,he),Pe&&zi(P,xe),de;if(he===null){for(;xe<j.length;xe++)he=J(P,j[xe],X),he!==null&&(M=d(he,M,xe),ze===null?de=he:ze.sibling=he,ze=he);return Pe&&zi(P,xe),de}for(he=l(he);xe<j.length;xe++)Me=K(he,P,xe,j[xe],X),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?xe:Me.key),M=d(Me,M,xe),ze===null?de=Me:ze.sibling=Me,ze=Me);return t&&he.forEach(function(Kr){return i(P,Kr)}),Pe&&zi(P,xe),de}function pe(P,M,j,X){if(j==null)throw Error(s(151));for(var de=null,ze=null,he=M,xe=M=0,Me=null,Be=j.next();he!==null&&!Be.done;xe++,Be=j.next()){he.index>xe?(Me=he,he=null):Me=he.sibling;var Kr=B(P,he,Be.value,X);if(Kr===null){he===null&&(he=Me);break}t&&he&&Kr.alternate===null&&i(P,he),M=d(Kr,M,xe),ze===null?de=Kr:ze.sibling=Kr,ze=Kr,he=Me}if(Be.done)return a(P,he),Pe&&zi(P,xe),de;if(he===null){for(;!Be.done;xe++,Be=j.next())Be=J(P,Be.value,X),Be!==null&&(M=d(Be,M,xe),ze===null?de=Be:ze.sibling=Be,ze=Be);return Pe&&zi(P,xe),de}for(he=l(he);!Be.done;xe++,Be=j.next())Be=K(he,P,xe,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?xe:Be.key),M=d(Be,M,xe),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(tw){return i(P,tw)}),Pe&&zi(P,xe),de}function We(P,M,j,X){if(typeof j=="object"&&j!==null&&j.type===q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case k:e:{for(var de=j.key;M!==null;){if(M.key===de){if(de=j.type,de===q){if(M.tag===7){a(P,M.sibling),X=h(M,j.props.children),X.return=P,P=X;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&Bs(de)===M.type){a(P,M.sibling),X=h(M,j.props),cl(X,j),X.return=P,P=X;break e}a(P,M);break}else i(P,M);M=M.sibling}j.type===q?(X=Ls(j.props.children,P.mode,X,j.key),X.return=P,P=X):(X=sc(j.type,j.key,j.props,null,P.mode,X),cl(X,j),X.return=P,P=X)}return _(P);case Q:e:{for(de=j.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(P,M.sibling),X=h(M,j.children||[]),X.return=P,P=X;break e}else{a(P,M);break}else i(P,M);M=M.sibling}X=Df(j,P.mode,X),X.return=P,P=X}return _(P);case x:return j=Bs(j),We(P,M,j,X)}if(st(j))return ce(P,M,j,X);if(L(j)){if(de=L(j),typeof de!="function")throw Error(s(150));return j=de.call(j),pe(P,M,j,X)}if(typeof j.then=="function")return We(P,M,fc(j),X);if(j.$$typeof===ie)return We(P,M,lc(P,j),X);dc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(P,M.sibling),X=h(M,j),X.return=P,P=X):(a(P,M),X=Nf(j,P.mode,X),X.return=P,P=X),_(P)):a(P,M)}return function(P,M,j,X){try{ul=0;var de=We(P,M,j,X);return Ua=null,de}catch(he){if(he===Pa||he===cc)throw he;var ze=gn(29,he,null,P.mode);return ze.lanes=X,ze.return=P,ze}}}var Hs=Hg(!0),Fg=Hg(!1),Ir=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(t),xg(t,null,a),i}return ic(t,l,i,a),rc(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}function Gf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Kf=!1;function fl(){if(Kf){var t=La;if(t!==null)throw t}}function dl(t,i,a,l){Kf=!1;var h=t.updateQueue;Ir=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=z:S.next=z,$.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;_=0,$=z=N=null,S=d;do{var B=S.lane&-536870913,K=B!==S.lane;if(K?(Oe&B)===B:(l&B)===B){B!==0&&B===ka&&(Kf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,pe=S;B=i;var We=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){J=ce.call(We,J,B);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,B=typeof ce=="function"?ce.call(We,J,B):ce,B==null)break e;J=A({},J,B);break e;case 2:Ir=!0}}B=S.callback,B!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[B]:K.push(B))}else K={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(z=$=K,N=J):$=$.next=K,_|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(N=J),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Lr|=_,t.lanes=_,t.memoizedState=J}}function Gg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Kg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gg(a[t],i)}var ja=V(null),mc=V(0);function Qg(t,i){t=Ji,ae(mc,t),ae(ja,i),Ji=t|i.baseLanes}function Qf(){ae(mc,Ji),ae(ja,ja.current)}function Yf(){Ji=mc.current,ee(ja),ee(mc)}var yn=V(null),Vn=null;function Or(t){var i=t.alternate;ae(pt,pt.current&1),ae(yn,t),Vn===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(Vn=t)}function $f(t){ae(pt,pt.current),ae(yn,t),Vn===null&&(Vn=t)}function Yg(t){t.tag===22?(ae(pt,pt.current),ae(yn,t),Vn===null&&(Vn=t)):Mr()}function Mr(){ae(pt,pt.current),ae(yn,yn.current)}function _n(t){ee(yn),Vn===t&&(Vn=null),ee(pt)}var pt=V(0);function pc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,we=null,Xe=null,wt=null,gc=!1,za=!1,Fs=!1,yc=0,ml=0,Ba=null,GA=0;function ht(){throw Error(s(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Jf(t,i,a,l,h,d){return Hi=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Dy:fd,Fs=!1,d=a(l,h),Fs=!1,za&&(d=Xg(i,a,l,h)),$g(t),d}function $g(t){Y.H=yl;var i=Xe!==null&&Xe.next!==null;if(Hi=0,wt=Xe=we=null,gc=!1,ml=0,Ba=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&oc(t)&&(Rt=!0))}function Xg(t,i,a,l){we=t;var h=0;do{if(za&&(Ba=null),ml=0,za=!1,25<=h)throw Error(s(301));if(h+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Oy,d=i(a,l)}while(za);return d}function KA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(we.flags|=1024),i}function Wf(){var t=yc!==0;return yc=0,t}function Zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ed(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Hi=0,wt=Xe=we=null,za=!1,ml=yc=0,Ba=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?we.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(Xe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=wt===null?we.memoizedState:wt.next;if(i!==null)wt=i,Xe=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?we.memoizedState=wt=t:wt=wt.next=t}return wt}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,Ba===null&&(Ba=[]),t=zg(Ba,t,i),i=we,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Dy:fd),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function td(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function Ec(t){var i=gt();return nd(i,Xe,t)}function nd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,z=i,$=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Oe&J)===J:(Hi&J)===J){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===ka&&($=!0);else if((Hi&B)===B){z=z.next,B===ka&&($=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=J,_=d):N=N.next=J,we.lanes|=B,Lr|=B;J=z.action,Fs&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=B,_=d):N=N.next=B,we.lanes|=J,Lr|=J;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=S,!pn(d,t.memoizedState)&&(Rt=!0,$&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function id(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Jg(t,i,a){var l=we,h=gt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,ad(ey.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},Zg.bind(null,l,h,a,i),null),Ze===null)throw Error(s(349));d||(Hi&127)!==0||Wg(l,i,a)}return a}function Wg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=_c(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Zg(t,i,a,l){i.value=a,i.getSnapshot=l,ty(i)&&ny(t)}function ey(t,i,a){return a(function(){ty(i)&&ny(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function ny(t){var i=ks(t,2);i!==null&&cn(i,t,2)}function rd(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Fs){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function iy(t,i,a,l){return t.baseState=a,nd(t,Xe,typeof l=="function"?l:Fi)}function QA(t,i,a,l,h){if(Ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ry(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ry(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),N=Y.S;N!==null&&N(_,S),sy(t,i,S)}catch(z){sd(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),sy(t,i,d)}catch(z){sd(t,i,z)}}function sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ay(t,i,l)},function(l){return sd(t,i,l)}):ay(t,i,a)}function ay(t,i,a){i.status="fulfilled",i.value=a,oy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ry(t,a)))}function sd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,oy(i),i=i.next;while(i!==l)}t.action=null}function oy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ly(t,i){return i}function uy(t,i){if(Pe){var a=Ze.formState;if(a!==null){e:{var l=we;if(Pe){if(it){t:{for(var h=it,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=kn(h.nextSibling),l=h.data==="F!";break e}}xr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:i},a.queue=l,a=Cy.bind(null,we,l),l.dispatch=a,l=rd(!1),d=hd.bind(null,we,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=QA.bind(null,we,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function cy(t){var i=gt();return hy(i,Xe,t)}function hy(t,i,a){if(i=nd(t,i,ly)[0],t=Ec(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(_){throw _===Pa?cc:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,qa(9,{destroy:void 0},YA.bind(null,h,a),null)),[l,d,t]}function YA(t,i){t.action=i}function fy(t){var i=gt(),a=Xe;if(a!==null)return hy(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=_c(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function dy(){return gt().memoizedState}function bc(t,i,a,l){var h=nn();we.flags|=t,h.memoizedState=qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function Tc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Xf(l,Xe.memoizedState.deps)?h.memoizedState=qa(i,d,a,l):(we.flags|=t,h.memoizedState=qa(1|i,d,a,l))}function my(t,i){bc(8390656,8,t,i)}function ad(t,i){Tc(2048,8,t,i)}function $A(t){we.flags|=4;var i=we.updateQueue;if(i===null)i=_c(),we.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function py(t){var i=gt().memoizedState;return $A({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function gy(t,i){return Tc(4,2,t,i)}function yy(t,i){return Tc(4,4,t,i)}function _y(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vy(t,i,a){a=a!=null?a.concat([t]):null,Tc(4,4,_y.bind(null,i,t),a)}function od(){}function Ey(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function by(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xf(i,l[1]))return l[0];if(l=t(),Fs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function ld(t,i,a){return a===void 0||(Hi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=T_(),we.lanes|=t,Lr|=t,a)}function Ty(t,i,a,l){return pn(a,i)?a:ja.current!==null?(t=ld(t,a,l),pn(t,i)||(Rt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=T_(),we.lanes|=t,Lr|=t,i)}function Ay(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,hd(t,!1,i,a);try{var N=h(),z=Y.S;if(z!==null&&z(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=FA(N,l);gl(t,i,$,bn(t))}else gl(t,i,l,bn(t))}catch(J){gl(t,i,{then:function(){},status:"rejected",reason:J},bn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function XA(){}function ud(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Sy(t).queue;Ay(t,h,i,fe,a===null?XA:function(){return wy(t),a(l)})}function Sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wy(t){var i=Sy(t);i.next===null&&(i=t.alternate.memoizedState),gl(t,i.next.queue,{},bn())}function cd(){return Ht(Ml)}function Ry(){return gt().memoizedState}function xy(){return gt().memoizedState}function JA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Nr(a);var l=Dr(i,t,a);l!==null&&(cn(l,i,a),hl(l,i,a)),i={cache:jf()},t.payload=i;return}i=i.return}}function WA(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?Iy(i,a):(a=Cf(t,i,a,l),a!==null&&(cn(a,t,l),Ny(a,i,l)))}function Cy(t,i,a){var l=bn();gl(t,i,a,l)}function gl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))Iy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,_))return ic(t,i,h,0),Ze===null&&nc(),!1}catch{}if(a=Cf(t,i,h,l),a!==null)return cn(a,t,l),Ny(a,i,l),!0}return!1}function hd(t,i,a,l){if(l={lane:2,revertLane:Hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(i)throw Error(s(479))}else i=Cf(t,a,l,2),i!==null&&cn(i,t,2)}function Ac(t){var i=t.alternate;return t===we||i!==null&&i===we}function Iy(t,i){za=gc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ny(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}var yl={readContext:Ht,use:vc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};yl.useEffectEvent=ht;var Dy={readContext:Ht,use:vc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:my,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,_y.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Fs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Fs){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WA.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=rd(t);var i=t.queue,a=Cy.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,i){var a=nn();return ld(a,t,i)},useTransition:function(){var t=rd(!1);return t=Ay.bind(null,we,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=we,h=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Oe&127)!==0||Wg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,my(ey.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},Zg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=Ze.identifierPrefix;if(Pe){var a=Si,l=Ai;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=GA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cd,useFormState:uy,useActionState:uy,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hd.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:td,useCacheRefresh:function(){return nn().memoizedState=JA.bind(null,we)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fd={readContext:Ht,use:vc,useCallback:Ey,useContext:Ht,useEffect:ad,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:by,useReducer:Ec,useRef:dy,useState:function(){return Ec(Fi)},useDebugValue:od,useDeferredValue:function(t,i){var a=gt();return Ty(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Ec(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:cd,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=gt();return iy(a,Xe,t,i)},useMemoCache:td,useCacheRefresh:xy};fd.useEffectEvent=py;var Oy={readContext:Ht,use:vc,useCallback:Ey,useContext:Ht,useEffect:ad,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:by,useReducer:id,useRef:dy,useState:function(){return id(Fi)},useDebugValue:od,useDeferredValue:function(t,i){var a=gt();return Xe===null?ld(a,t,i):Ty(a,Xe.memoizedState,t,i)},useTransition:function(){var t=id(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:cd,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=gt();return Xe!==null?iy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:xy};Oy.useEffectEvent=py;function dd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var md={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Nr(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(cn(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Nr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(cn(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(t,l,a),i!==null&&(cn(i,t,a),hl(i,t,a))}};function My(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&md.enqueueReplaceState(i,i.state,null)}function Gs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ky(t){tc(t)}function Ly(t){console.error(t)}function Py(t){tc(t)}function Sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,i)},a}function jy(t){return t=Nr(t),t.tag=3,t}function zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ZA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Lc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zd(t,l,h)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zd(t,l,h)),!1}throw Error(s(435,a.tag))}return zd(t,l,h),Lc(),!1}if(Pe)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Vf&&(t=Error(s(422),{cause:l}),al(Nn(t,a)))):(l!==Vf&&(i=Error(s(423),{cause:l}),al(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=pd(t.stateNode,l,h),Gf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),wl===null?wl=[d]:wl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pd(a.stateNode,l,t),Gf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),zy(h,t,a,l),Gf(a,h),!1}a=a.return}while(a!==null);return!1}var gd=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Fg(i,null,a,l):Hs(i,t.child,a,l)}function By(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return js(i),l=Jf(t,i,a,_,d,h),S=Wf(),t!==null&&!Rt?(Zf(t,i,h),Gi(t,i,h)):(Pe&&S&&Of(i),i.flags|=1,Ft(t,i,l,h),i.child)}function qy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hy(t,i,d,l,h)):(t=sc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Sd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return yd(t,i,a,l,h)}function Fy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Gy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):Qf(),Yg(i);else return l=i.lanes=536870912,Gy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(i,d.cachePool),Qg(i,d),Mr(),i.memoizedState=null):(t!==null&&uc(i,null),Qf(),Mr());return Ft(t,i,h,a),i.child}function _l(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gy(t,i,a,l,h){var d=Bf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&uc(i,null),Qf(),Yg(i),t!==null&&Va(t,i,l,!0),i.childLanes=h,null}function wc(t,i){return i=xc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ky(t,i,a){return Hs(i,t.child,null,a),t=wc(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function eS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=wc(i,l),i.lanes=536870912,_l(null,t);if($f(i),(t=it)?(t=rv(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Ig(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return wc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if($f(i),h)if(i.flags&256)i.flags&=-257,i=Ky(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Va(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=Ze,l!==null&&(_=jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ks(t,_),cn(l,t,_),gd;Lc(),i=Ky(t,i,a)}else t=d.treeContext,it=kn(_.nextSibling),qt=i,Pe=!0,Rr=null,Mn=!1,t!==null&&Og(i,t),i=wc(i,l),i.flags|=4096;return i}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yd(t,i,a,l,h){return js(i),a=Jf(t,i,a,l,void 0,h),l=Wf(),t!==null&&!Rt?(Zf(t,i,h),Gi(t,i,h)):(Pe&&l&&Of(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Qy(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Xg(i,l,a,h),$g(t),l=Wf(),t!==null&&!Rt?(Zf(t,i,d),Gi(t,i,d)):(Pe&&l&&Of(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Yy(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Na,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Hf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Na,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&md.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Gs(a,S);d.props=N;var z=d.context,$=a.contextType;_=Na,typeof $=="object"&&$!==null&&(_=Ht($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==_)&&Vy(i,d,l,_),Ir=!1;var B=i.memoizedState;d.state=B,dl(i,l,d,h),fl(),z=i.memoizedState,S||B!==z||Ir?(typeof J=="function"&&(dd(i,a,J,l),z=i.memoizedState),(N=Ir||My(i,a,N,l,B,z,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ff(t,i),_=i.memoizedProps,$=Gs(a,_),d.props=$,J=i.pendingProps,B=d.context,z=a.contextType,N=Na,typeof z=="object"&&z!==null&&(N=Ht(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||B!==N)&&Vy(i,d,l,N),Ir=!1,B=i.memoizedState,d.state=B,dl(i,l,d,h),fl();var K=i.memoizedState;_!==J||B!==K||Ir||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof S=="function"&&(dd(i,a,S,l),K=i.memoizedState),($=Ir||My(i,a,$,l,B,K,N)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Hs(i,t.child,null,h),i.child=Hs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function $y(t,i,a,l){return Ps(),i.flags|=256,Ft(t,i,a,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Ug()}}function Ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function Xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Or(i):Mr(),(t=it)?(t=rv(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Ig(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw xr(i);return nm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Mr(),h=i.mode,S=xc({mode:"hidden",children:S},h),l=Ls(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,_l(null,l)):(Or(i),bd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=Td(t,i,a)):i.memoizedState!==null?(Mr(),i.child=t.child,i.flags|=128,i=null):(Mr(),S=l.fallback,h=i.mode,l=xc({mode:"visible",children:l.children},h),S=Ls(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Hs(i,t.child,null,a),l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,i=_l(null,l));else if(Or(i),nm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),i=Td(t,i,a)}else if(Rt||Va(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=Ze,_!==null&&(l=jo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ks(t,l),cn(_,t,l),gd;tm(S)||Lc(),i=Td(t,i,a)}else tm(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=kn(S.nextSibling),qt=i,Pe=!0,Rr=null,Mn=!1,t!==null&&Og(i,t),i=bd(i,l.children),i.flags|=4096);return i}return h?(Mr(),S=l.fallback,h=i.mode,N=t.child,z=N.sibling,l=ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?S=ji(z,S):(S=Ls(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,_l(null,l),l=i.child,S=t.child.memoizedState,S===null?S=vd(a):(h=S.cachePool,h!==null?(N=St._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Ug(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=Ed(t,_,a),i.memoizedState=_d,_l(t.child,l)):(Or(i),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function bd(t,i){return i=xc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xc(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function Td(t,i,a){return Hs(i,t.child,null,a),t=bd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Pf(t.return,i,a)}function Ad(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Wy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Ft(t,i,l,a),l=Pe?sl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,a,i);else if(t.tag===19)Jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&pc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ad(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&pc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ad(i,!0,a,null,d,l);break;case"together":Ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function tS(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Cr(i,St,t.memoizedState.cache),Ps();break;case 27:case 5:ys(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xy(t,i,a):(Or(i),t=Gi(t,i,a),t!==null?t.sibling:null);Or(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Wy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Fy(t,i,a,i.pendingProps);case 24:Cr(i,St,t.memoizedState.cache)}return Gi(t,i,a)}function Zy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return Rt=!1,tS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Pe&&(i.flags&1048576)!==0&&Dg(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Bs(i.elementType),i.type=t,typeof t=="function")If(t)?(l=Gs(t,l),i.tag=1,i=Yy(null,i,t,l,a)):(i.tag=0,i=yd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===_e){i.tag=11,i=By(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=qy(null,i,t,l,a);break e}}throw i=et(t)||t,Error(s(306,i,""))}}return i;case 0:return yd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Gs(l,i.pendingProps),Yy(t,i,l,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ff(t,i),dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Cr(i,St,l),l!==d.cache&&Uf(i,[St],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=$y(t,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),al(h),i=$y(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=kn(t.firstChild),qt=i,Pe=!0,Rr=null,Mn=!0,a=Fg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),l===h){i=Gi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return Rc(t,i),t===null?(a=cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Hc(Re.current).createElement(a),l[bt]=i,l[Lt]=t,Gt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=cv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ys(i),t===null&&Pe&&(l=i.stateNode=ov(i.type,i.pendingProps,Re.current),qt=i,Mn=!0,h=it,Br(i.type)?(im=h,it=kn(l.firstChild)):it=h),Ft(t,i,i.pendingProps.children,a),Rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=it)&&(l=DS(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,it=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||xr(i)),ys(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wd(h,d)?l=null:_!==null&&Wd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(t,i,KA,null,null,a),Ml._currentValue=h),Rc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=OS(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,it=null,t=!0):t=!1),t||xr(i)),null;case 13:return Xy(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Hs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return By(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return qy(t,i,i.type,i.pendingProps,a);case 15:return Hy(t,i,i.type,i.pendingProps,a);case 19:return Wy(t,i,a);case 31:return eS(t,i,a);case 22:return Fy(t,i,a,i.pendingProps);case 24:return js(i),l=Ht(St),t===null?(h=Bf(),h===null&&(h=Ze,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Hf(i),Cr(i,St,h)):((t.lanes&a)!==0&&(Ff(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,St,l)):(l=d.cache,Cr(i,St,l),l!==h.cache&&Uf(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(t){t.flags|=4}function wd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(R_())t.flags|=8192;else throw qs=hc,qf}else t.flags&=-16777217}function e_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pv(i))if(R_())t.flags|=8192;else throw qs=hc,qf}function Cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vu():536870912,t.lanes|=i,Ka|=i)}function vl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function nS(t,i,a){var l=i.pendingProps;switch(Mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ki(i),d!==null?(rt(i),e_(i,d)):(rt(i),wd(i,h,null,l,a))):d?d!==t.memoizedState?(Ki(i),rt(i),e_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(i),rt(i),wd(i,h,t,l,a)),null;case 27:if(ha(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ue.current,Ma(i)?Mg(i):(t=ov(h,l,a),i.stateNode=t,Ki(i))}return rt(i),null;case 5:if(ha(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=ue.current,Ma(i))Mg(i);else{var _=Hc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ki(i)}}return rt(i),wd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X_(t.nodeValue,a)),t||xr(i,!0)}else t=Hc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&Qd(i.stateNode.containerInfo),rt(i),null;case 10:return qi(i.type),rt(i),null;case 19:if(ee(pt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)vl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=pc(t),d!==null){for(i.flags|=128,vl(l,!1),t=d.updateQueue,i.updateQueue=t,Cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Cg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Pe&&zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Mc&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304)}else{if(!h)if(t=pc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Cc(i,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(i),null}else 2*en()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),Pe&&zi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return _n(i),Yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(St),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iS(t,i){switch(Mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(St),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(pt),null;case 4:return at(),null;case 10:return qi(i.type),null;case 22:case 23:return _n(i),Yf(),t!==null&&ee(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(St),null;case 25:return null;default:return null}}function t_(t,i){switch(Mf(i),i.tag){case 3:qi(St),at();break;case 26:case 27:case 5:ha(i);break;case 4:at();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:ee(pt);break;case 10:qi(i.type);break;case 22:case 23:_n(i),Yf(),t!==null&&ee(zs);break;case 24:qi(St)}}function El(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Ye(i,i.return,S)}}function Vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,z=S;try{z()}catch($){Ye(h,N,$)}}}l=l.next}while(l!==d)}}catch($){Ye(i,i.return,$)}}function n_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Kg(i,a)}catch(l){Ye(t,t.return,l)}}}function i_(t,i,a){a.props=Gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function r_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Rd(t,i,a){try{var l=t.stateNode;wS(l,t.type,a,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function s_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Br(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Cd(t,i,a),t=t.sibling;t!==null;)Cd(t,i,a),t=t.sibling}function Ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,i,a),t=t.sibling;t!==null;)Ic(t,i,a),t=t.sibling}function a_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var Qi=!1,xt=!1,Id=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function rS(t,i){if(t=t.containerInfo,Xd=Xc,t=vg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,z=0,$=0,J=t,B=null;t:for(;;){for(var K;J!==a||h!==0&&J.nodeType!==3||(S=_+h),J!==d||l!==0&&J.nodeType!==3||(N=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(K=J.firstChild)!==null;)B=J,J=K;for(;;){if(J===t)break t;if(B===a&&++z===h&&(S=_),B===d&&++$===l&&(N=_),(K=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=K}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Xc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Gs(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function l_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&El(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&n_(a),l&512&&bl(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Kg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&a_(a);case 26:case 5:$i(t,a),i===null&&l&4&&r_(a),l&512&&bl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),l&4&&h_(t,a);break;case 13:$i(t,a),l&4&&f_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dS.bind(null,a),MS(t,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){i=i!==null&&i.memoizedState!==null||xt,h=Qi;var d=xt;Qi=l,(xt=i)&&!d?Xi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Qi=h,xt=d}break;case 30:break;default:$i(t,a)}}function u_(t){var i=t.alternate;i!==null&&(t.alternate=null,u_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ga(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,an=!1;function Yi(t,i,a){for(a=a.child;a!==null;)c_(t,i,a),a=a.sibling}function c_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:xt||wi(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||wi(a,i);var l=lt,h=an;Br(a.type)&&(lt=a.stateNode,an=!1),Yi(t,i,a),Nl(a.stateNode),lt=l,an=h;break;case 5:xt||wi(a,i);case 6:if(l=lt,h=an,lt=null,Yi(t,i,a),lt=l,an=h,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:lt!==null&&(an?(t=lt,nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):nv(lt,a.stateNode));break;case 4:l=lt,h=an,lt=a.stateNode.containerInfo,an=!0,Yi(t,i,a),lt=l,an=h;break;case 0:case 11:case 14:case 15:Vr(2,a,i),xt||Vr(4,a,i),Yi(t,i,a);break;case 1:xt||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,Yi(t,i,a),xt=l;break;default:Yi(t,i,a)}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){Ye(i,i.return,a)}}}function f_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){Ye(i,i.return,a)}}function sS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new o_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new o_),i;default:throw Error(s(435,t.tag))}}function Nc(t,i){var a=sS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=mS.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Br(S.type)){lt=S.stateNode,an=!1;break e}break;case 5:lt=S.stateNode,an=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(lt===null)throw Error(s(160));c_(d,_,h),lt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)d_(i,t),i=i.sibling}var Wn=null;function d_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(Vr(3,t,t.return),El(3,t),Vr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(xt||a===null||wi(a,a.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(on(i,t),ln(t),l&512&&(xt||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[bt]=t,Tt(d),l=d;break e;case"link":var _=dv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=dv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,Tt(d),l=d}t.stateNode=l}else mv(h,t.type,t.stateNode);else t.stateNode=fv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?mv(h,t.type,t.stateNode):fv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(xt||a===null||wi(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(xt||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(Kc=null,h=Wn,Wn=Fc(i.containerInfo),on(i,t),Wn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}Id&&(Id=!1,m_(t));break;case 4:l=Wn,Wn=Fc(t.stateNode.containerInfo),on(i,t),ln(t),Wn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Qi,$=xt;if(Qi=z||h,xt=$||N,on(i,t),xt=$,Qi=z,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Qi||xt||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var J=N.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var K=N.stateNode;h?iv(K,!0):iv(N.stateNode,!1)}catch(ce){Ye(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(s_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xd(t);Ic(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=xd(t);Ic(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=xd(t);Cd(t,z,N);break;default:throw Error(s(161))}}catch($){Ye(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function m_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;m_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),Ks(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i_(i,i.return,a),Ks(i);break;case 27:Nl(i.stateNode);case 26:case 5:wi(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function Xi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),El(4,d);break;case 1:if(Xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Gg(N[h],S)}catch(z){Ye(l,l.return,z)}}a&&_&64&&n_(d),bl(d,d.return);break;case 27:a_(d);case 26:case 5:Xi(h,d,a),a&&l===null&&_&4&&r_(d),bl(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&_&4&&h_(h,d);break;case 13:Xi(h,d,a),a&&_&4&&f_(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),bl(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function Nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p_(t,i,a,l),i=i.sibling}function p_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),h&2048&&El(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):Tl(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,Ha(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(_,i);break;case 24:Zn(t,i,a,l),h&2048&&Dd(i.alternate,i);break;default:Zn(t,i,a,l)}}function Ha(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,S,N,h),El(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ha(d,_,S,N,h):Tl(d,_):($._visibility|=2,Ha(d,_,S,N,h)),h&&z&2048&&Nd(_.alternate,_);break;case 24:Ha(d,_,S,N,h),h&&z&2048&&Dd(_.alternate,_);break;default:Ha(d,_,S,N,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Nd(l.alternate,l);break;case 24:Tl(a,l),h&2048&&Dd(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var Al=8192;function Fa(t,i,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)g_(t,i,a),t=t.sibling}function g_(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&Al&&t.memoizedState!==null&&GS(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var l=Wn;Wn=Fc(t.stateNode.containerInfo),Fa(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Fa(t,i,a),Al=l):Fa(t,i,a));break;default:Fa(t,i,a)}}function y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,v_(l,t)}y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Dc(t)):Sl(t);break;default:Sl(t)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,v_(l,t)}y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(i));break;default:Dc(i)}t=t.sibling}}function v_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(u_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var aS={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},oS=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Ze=null,Ie=null,Oe=0,Qe=0,vn=null,kr=!1,Ga=!1,Od=!1,Ji=0,ft=0,Lr=0,Qs=0,Md=0,En=0,Ka=0,wl=null,un=null,Vd=!1,Oc=0,E_=0,Mc=1/0,Vc=null,Pr=null,Mt=0,Ur=null,Qa=null,Wi=0,kd=0,Ld=null,b_=null,Rl=0,Pd=null;function bn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?Hd():ku()}function T_(){if(En===0)if((Oe&536870912)===0||Pe){var t=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function cn(t,i,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),jr(t,Oe,En,!1)),bs(t,a),((Fe&2)===0||t!==Ze)&&(t===Ze&&((Fe&2)===0&&(Qs|=a),ft===4&&jr(t,Oe,En,!1)),Ri(t))}function A_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?cS(t,i):jd(t,i,!0),d=l;do{if(h===0){Ga&&!l&&jr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!lS(a)){h=jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=wl;var N=S.current.memoizedState.isDehydrated;if(N&&(Ya(S,_).flags|=256),_=jd(S,_,!1),_!==2){if(Od&&!N){S.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),jr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,En,!kr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Oc+300-en(),10<h)){if(jr(l,i,En,!kr),li(l,0,!0)!==0)break e;Wi=i,l.timeoutHandle=ev(S_.bind(null,l,a,un,Vc,Vd,i,En,Qs,Ka,kr,d,"Throttled",-0,0),h);break e}S_(l,a,un,Vc,Vd,i,En,Qs,Ka,kr,d,null,-0,0)}}break}while(!0);Ri(t)}function S_(t,i,a,l,h,d,_,S,N,z,$,J,B,K){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},g_(i,d,J);var ce=(d&62914560)===d?Oc-en():(d&4194048)===d?E_-en():0;if(ce=KS(J,ce),ce!==null){Wi=d,t.cancelPendingCommit=ce(O_.bind(null,t,i,d,a,l,h,_,S,N,$,J,null,B,K)),jr(t,d,_,!z);return}}O_(t,i,d,a,l,h,_,S,N)}function lS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(t,i,a,l){i&=~Md,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ts(t,a,i)}function kc(){return(Fe&6)===0?(xl(0),!1):!0}function Ud(){if(Ie!==null){if(Qe===0)var t=Ie.return;else t=Ie,Bi=Us=null,ed(t),Ua=null,ul=0,t=Ie;for(;t!==null;)t_(t.alternate,t),t=t.return;Ie=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wi=0,Ud(),Ze=t,Ie=a=ji(t.current,null),Oe=i,Qe=0,vn=null,kr=!1,Ga=Hn(t,i),Od=!1,Ka=En=Md=Qs=Lr=ft=0,un=wl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,nc(),a}function w_(t,i){we=null,Y.H=yl,i===Pa||i===cc?(i=Bg(),Qe=3):i===qf?(i=Bg(),Qe=4):Qe=i===gd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ie===null&&(ft=1,Sc(t,Nn(i,t.current)))}function R_(){var t=yn.current;return t===null?!0:(Oe&4194048)===Oe?Vn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Vn:!1}function x_(){var t=Y.H;return Y.H=yl,t===null?yl:t}function C_(){var t=Y.A;return Y.A=aS,t}function Lc(){ft=4,kr||(Oe&4194048)!==Oe&&yn.current!==null||(Ga=!0),(Lr&134217727)===0&&(Qs&134217727)===0||Ze===null||jr(Ze,Oe,En,!1)}function jd(t,i,a){var l=Fe;Fe|=2;var h=x_(),d=C_();(Ze!==t||Oe!==i)&&(Vc=null,Ya(t,i)),i=!1;var _=ft;e:do try{if(Qe!==0&&Ie!==null){var S=Ie,N=vn;switch(Qe){case 8:Ud(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Qe;if(Qe=0,vn=null,$a(t,S,N,z),a&&Ga){_=0;break e}break;default:z=Qe,Qe=0,vn=null,$a(t,S,N,z)}}uS(),_=ft;break}catch($){w_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Bi=Us=null,Fe=l,Y.H=h,Y.A=d,Ie===null&&(Ze=null,Oe=0,nc()),_}function uS(){for(;Ie!==null;)I_(Ie)}function cS(t,i){var a=Fe;Fe|=2;var l=x_(),h=C_();Ze!==t||Oe!==i?(Vc=null,Mc=en()+500,Ya(t,i)):Ga=Hn(t,i);e:do try{if(Qe!==0&&Ie!==null){i=Ie;var d=vn;t:switch(Qe){case 1:Qe=0,vn=null,$a(t,i,d,1);break;case 2:case 9:if(jg(d)){Qe=0,vn=null,N_(i);break}i=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Ri(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:jg(d)?(Qe=0,vn=null,N_(i)):(Qe=0,vn=null,$a(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var S=Ie;if(_?pv(_):S.stateNode.complete){Qe=0,vn=null;var N=S.sibling;if(N!==null)Ie=N;else{var z=S.return;z!==null?(Ie=z,Pc(z)):Ie=null}break t}}Qe=0,vn=null,$a(t,i,d,5);break;case 6:Qe=0,vn=null,$a(t,i,d,6);break;case 8:Ud(),ft=6;break e;default:throw Error(s(462))}}hS();break}catch($){w_(t,$)}while(!0);return Bi=Us=null,Y.H=l,Y.A=h,Fe=a,Ie!==null?0:(Ze=null,Oe=0,nc(),ft)}function hS(){for(;Ie!==null&&!pf();)I_(Ie)}function I_(t){var i=Zy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Pc(t):Ie=i}function N_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Qy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:ed(i);default:t_(a,i),i=Ie=Cg(i,Ji),i=Zy(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Pc(t):Ie=i}function $a(t,i,a,l){Bi=Us=null,ed(i),Ua=null,ul=0;var h=i.return;try{if(ZA(t,h,i,a,Oe)){ft=1,Sc(t,Nn(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ft=1,Sc(t,Nn(a,t.current)),Ie=null;return}i.flags&32768?(Pe||l===1?t=!0:Ga||(Oe&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(i,t)):Pc(i)}function Pc(t){var i=t;do{if((i.flags&32768)!==0){D_(i,kr);return}t=i.return;var a=nS(i.alternate,i,Ji);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ft===0&&(ft=5)}function D_(t,i){do{var a=iS(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ft=6,Ie=null}function O_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Uc();while(Mt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=xf,_f(t,a,d,_,S,N),t===Ze&&(Ie=Ze=null,Oe=0),Qa=i,Ur=t,Wi=a,kd=d,Ld=h,b_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pS(pr,function(){return P_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,_=Fe,Fe|=4;try{rS(t,i,a)}finally{Fe=_,se.p=h,Y.T=l}}Mt=1,M_(),V_(),k_()}}function M_(){if(Mt===1){Mt=0;var t=Ur,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{d_(i,t);var d=Jd,_=vg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&_g(S.ownerDocument.documentElement,S)){if(N!==null&&Tf(S)){var z=N.start,$=N.end;if($===void 0&&($=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min($,S.value.length);else{var J=S.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var K=B.getSelection(),ce=S.textContent.length,pe=Math.min(N.start,ce),We=N.end===void 0?pe:Math.min(N.end,ce);!K.extend&&pe>We&&(_=We,We=pe,pe=_);var P=yg(S,pe),M=yg(S,We);if(P&&M&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var j=J.createRange();j.setStart(P.node,P.offset),K.removeAllRanges(),pe>We?(K.addRange(j),K.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),K.addRange(j))}}}}for(J=[],K=S;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var X=J[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Xc=!!Xd,Jd=Xd=null}finally{Fe=h,se.p=l,Y.T=a}}t.current=i,Mt=2}}function V_(){if(Mt===2){Mt=0;var t=Ur,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{l_(t,i.alternate,i)}finally{Fe=h,se.p=l,Y.T=a}}Mt=3}}function k_(){if(Mt===4||Mt===3){Mt=0,Cu();var t=Ur,i=Qa,a=Wi,l=b_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Qa=Ur=null,L_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pr=null),ki(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,se.p=h}}(Wi&3)!==0&&Uc(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Pd?Rl++:(Rl=0,Pd=t):Rl=0,xl(0)}}function L_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Uc(){return M_(),V_(),k_(),P_()}function P_(){if(Mt!==5)return!1;var t=Ur,i=kd;kd=0;var a=ki(Wi),l=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=Ld,Ld=null;var d=Ur,_=Wi;if(Mt=0,Qa=Ur=null,Wi=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,__(d.current),p_(d,d.current,_,a),Fe=S,xl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{se.p=h,Y.T=l,L_(t,i)}}function U_(t,i,a){i=Nn(a,i),i=pd(t.stateNode,i,2),t=Dr(t,i,2),t!==null&&(bs(t,2),Ri(t))}function Ye(t,i,a){if(t.tag===3)U_(t,t,a);else for(;i!==null;){if(i.tag===3){U_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=Nn(a,t),a=jy(2),l=Dr(i,a,2),l!==null&&(zy(a,l,i,t),bs(l,2),Ri(l));break}}i=i.return}}function zd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Od=!0,h.add(a),t=fS.bind(null,t,i,a),i.then(t,t))}function fS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>en()-Oc?(Fe&2)===0&&Ya(t,0):Md|=a,Ka===Oe&&(Ka=0)),Ri(t)}function j_(t,i){i===0&&(i=Vu()),t=ks(t,i),t!==null&&(bs(t,i),Ri(t))}function dS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),j_(t,a)}function mS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),j_(t,a)}function pS(t,i){return Ot(t,i)}var jc=null,Xa=null,Bd=!1,zc=!1,qd=!1,zr=0;function Ri(t){t!==Xa&&t.next===null&&(Xa===null?jc=Xa=t:Xa=Xa.next=t),zc=!0,Bd||(Bd=!0,yS())}function xl(t,i){if(!qd&&zc){qd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,H_(l,d))}else d=Oe,d=li(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,H_(l,d));l=l.next}while(a);qd=!1}}function gS(){z_()}function z_(){zc=Bd=!1;var t=0;zr!==0&&xS()&&(t=zr);for(var i=en(),a=null,l=jc;l!==null;){var h=l.next,d=B_(l,i);d===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(zc=!0)),l=h}Mt!==0&&Mt!==5||xl(t),zr!==0&&(zr=0)}function B_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=yf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=Ze,a=Oe,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&mr(l),ki(a)){case 2:case 8:a=Po;break;case 32:a=pr;break;case 268435456:a=Iu;break;default:a=pr}return l=q_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&mr(l),t.callbackPriority=2,t.callbackNode=null,2}function q_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=Oe;return l=li(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(A_(t,l,i),B_(t,en()),t.callbackNode!=null&&t.callbackNode===a?q_.bind(null,t):null)}function H_(t,i){if(Uc())return null;A_(t,i,!0)}function yS(){IS(function(){(Fe&6)!==0?Ot(Lo,gS):z_()})}function Hd(){if(zr===0){var t=ka;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),zr=t}return zr}function F_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function G_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _S(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=F_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?F_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new vi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var N=_?G_(h,_):new FormData(h);ud(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?G_(h,_):new FormData(h),ud(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Fd=0;Fd<Rf.length;Fd++){var Gd=Rf[Fd],vS=Gd.toLowerCase(),ES=Gd[0].toUpperCase()+Gd.slice(1);Jn(vS,"on"+ES)}Jn(Tg,"onAnimationEnd"),Jn(Ag,"onAnimationIteration"),Jn(Sg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(LA,"onTransitionRun"),Jn(PA,"onTransitionStart"),Jn(UA,"onTransitionCancel"),Jn(wg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function K_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,z=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=z;try{d(h)}catch($){tc($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,z=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=z;try{d(h)}catch($){tc($)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var l=t+"__bubble";a.has(l)||(Q_(i,t,2,!1),a.add(l))}function Kd(t,i,a){var l=0;i&&(l|=4),Q_(a,t,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Bc]){t[Bc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(bS.has(a)||Kd(a,!1,t),Kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,Kd("selectionchange",!1,i))}}function Q_(t,i,a,l){switch(Tv(i)){case 2:var h=$S;break;case 8:h=XS;break;default:h=lm}a=h.bind(null,i,a,t),h=void 0,!xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Yd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=fi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}br(function(){var z=d,$=Rn(a),J=[];e:{var B=Rg.get(t);if(B!==void 0){var K=vi,ce=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":K=Wu;break;case"focusin":ce="focus",K=Ds;break;case"focusout":ce="blur",K=Ds;break;case"beforeblur":case"afterblur":K=Ds;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Tg:case Ag:case Sg:K=Gu;break;case wg:K=w;break;case"scroll":case"scrollend":K=Wo;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ui;break;case"toggle":case"beforetoggle":K=Se}var pe=(i&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),P=pe?B!==null?B+"Capture":null:B;pe=[];for(var M=z,j;M!==null;){var X=M;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||P===null||(X=Qn(M,P),X!=null&&pe.push(Il(M,X,j))),We)break;M=M.return}0<pe.length&&(B=new K(B,ce,null,a,$),J.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",B&&a!==$o&&(ce=a.relatedTarget||a.fromElement)&&(fi(ce)||ce[ci]))break e;if((K||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=z,ce=ce?fi(ce):null,ce!==null&&(We=u(ce),pe=ce.tag,ce!==We||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(K=null,ce=z),K!==ce)){if(pe=Zo,X="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Ui,X="onPointerLeave",P="onPointerEnter",M="pointer"),We=K==null?B:dn(K),j=ce==null?B:dn(ce),B=new pe(X,M+"leave",K,a,$),B.target=We,B.relatedTarget=j,X=null,fi($)===z&&(pe=new pe(P,M+"enter",ce,a,$),pe.target=j,pe.relatedTarget=We,X=pe),We=X,K&&ce)t:{for(pe=TS,P=K,M=ce,j=0,X=P;X;X=pe(X))j++;X=0;for(var de=M;de;de=pe(de))X++;for(;0<j-X;)P=pe(P),j--;for(;0<X-j;)M=pe(M),X--;for(;j--;){if(P===M||M!==null&&P===M.alternate){pe=P;break t}P=pe(P),M=pe(M)}pe=null}else pe=null;K!==null&&Y_(J,B,K,pe,!1),ce!==null&&We!==null&&Y_(J,We,ce,pe,!0)}}e:{if(B=z?dn(z):window,K=B.nodeName&&B.nodeName.toLowerCase(),K==="select"||K==="input"&&B.type==="file")var ze=hg;else if(ug(B))if(fg)ze=MA;else{ze=DA;var he=NA}else K=B.nodeName,!K||K.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&va(z.elementType)&&(ze=hg):ze=OA;if(ze&&(ze=ze(t,z))){cg(J,ze,a,$);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ko(B,"number",B.value)}switch(he=z?dn(z):window,t){case"focusin":(ug(he)||he.contentEditable==="true")&&(xa=he,Af=z,rl=null);break;case"focusout":rl=Af=xa=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Eg(J,a,$);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":Eg(J,a,$)}var xe;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ra?Os(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ti&&a.locale!=="ko"&&(Ra||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ra&&(xe=Jo()):(_i=$,Xo="value"in _i?_i.value:_i.textContent,Ra=!0)),he=qc(z,Me),0<he.length&&(Me=new bi(Me,t,null,a,$),J.push({event:Me,listeners:he}),xe?Me.data=xe:(xe=wa(a),xe!==null&&(Me.data=xe)))),(xe=Cn?RA(t,a):xA(t,a))&&(Me=qc(z,"onBeforeInput"),0<Me.length&&(he=new bi("onBeforeInput","beforeinput",null,a,$),J.push({event:he,listeners:Me}),he.data=xe)),_S(J,t,z,a,$)}K_(J,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Qn(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function TS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Y_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,z=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||z===null||(N=z,h?(z=Qn(a,d),z!=null&&_.unshift(Il(a,z,N))):h||(z=Qn(a,d),z!=null&&_.push(Il(a,z,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var AS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(SS,"")}function X_(t,i){return i=$_(i),$_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(i!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qu.get(a)||a,ya(t,a,l))}}function $d(t,i,a,l,h,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":z=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Je(t,i,l,$,a,null)}}ju(t,d,S,N,z,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?yr(t,!!l,i,!1):a!=null&&yr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}_r(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,N,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ne(Cl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,z,l,a,null)}return;default:if(va(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&$d(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function wS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,z=null,$=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(K)||Je(t,i,K,null,l,J)}}for(var B in l){var K=l[B];if(J=a[B],l.hasOwnProperty(B)&&(K!=null||J!=null))switch(B){case"type":d=K;break;case"name":h=K;break;case"checked":z=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==J&&Je(t,i,B,K,l,J)}}_a(t,_,S,N,z,$,d,h);return;case"select":K=_=S=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=S,a=_,l=K,B!=null?yr(t,!!a,B,!1):!!l!=!!a&&(i!=null?yr(t,!!a,i,!0):yr(t,!!a,a?[]:"",!1));return;case"textarea":K=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}zu(t,B,K);return;case"option":for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,B));for(N in l)B=l[N],K=a[N],l.hasOwnProperty(N)&&B!==K&&(B!=null||K!=null)&&(N==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Je(t,i,N,B,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,B);for(z in l)if(B=l[z],K=a[z],l.hasOwnProperty(z)&&B!==K&&(B!=null||K!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Je(t,i,z,B,l,K)}return;default:if(va(i)){for(var We in a)B=a[We],a.hasOwnProperty(We)&&B!==void 0&&!l.hasOwnProperty(We)&&$d(t,i,We,void 0,l,B);for($ in l)B=l[$],K=a[$],!l.hasOwnProperty($)||B===K||B===void 0&&K===void 0||$d(t,i,$,B,l,K);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,B);for(J in l)B=l[J],K=a[J],!l.hasOwnProperty(J)||B===K||B==null&&K==null||Je(t,i,J,B,l,K)}function J_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&J_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>S)break;var $=N.transferSize,J=N.initiatorType;$&&J_(J)&&(N=N.responseEnd,_+=$*(N<S?1:(S-z)/(N-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Jd=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function W_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function xS(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(NS)}:ev;function NS(t){setTimeout(function(){throw t})}function Br(t){return t==="head"}function nv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),eo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);eo(i)}function iv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function em(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function DS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function OS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function rv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var im=null;function sv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function av(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ov(t,i,a){switch(i=Hc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ga(t)}var Ln=new Map,lv=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=se.d;se.d={f:VS,r:kS,D:LS,C:PS,L:US,m:jS,X:BS,S:zS,M:qS};function VS(){var t=Zi.f(),i=kc();return t||i}function kS(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?wy(i):Zi.r(t)}var Ja=typeof document>"u"?null:document;function uv(t,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),lv.has(h)||(lv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function LS(t){Zi.D(t),uv("dns-prefetch",t,null)}function PS(t,i){Zi.C(t,i),uv("preconnect",t,i)}function US(t,i,a){Zi.L(t,i,a);var l=Ja;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}Ln.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function jS(t,i){Zi.m(t,i);var a=Ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Ln.has(d)&&(t=A({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Gt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function zS(t,i,a){Zi.S(t,i,a);var l=Ja;if(l&&t){var h=di(l).hoistableStyles,d=Wa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Dl(d)))S.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&rm(t,a);var N=_=l.createElement("link");Tt(N),Gt(N,"link",t),N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function BS(t,i){Zi.X(t,i);var a=Ja;if(a&&t){var l=di(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=A({src:t,async:!0},i),(i=Ln.get(h))&&sm(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qS(t,i){Zi.M(t,i);var a=Ja;if(a&&t){var l=di(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&sm(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cv(t,i,a,l){var h=(h=Re.current)?Fc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||HS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+rn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function hv(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function HS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),Tt(i),t.head.appendChild(i))}function Za(t){return'[src="'+rn(t)+'"]'}function Ol(t){return"script[async]"+t}function fv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),Gc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=hv(a),(h=Ln.get(h))&&rm(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Ln.get(d))&&(l=A({},a),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,t));return i.instance}function Gc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function dv(t,i,a){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(a,l)}else h=Kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function mv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function FS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=hv(l),(h=Ln.get(h))&&rm(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var am=0;function KS(t,i){return t.stylesheets&&t.count===0&&$c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&am===0&&(am=62500*RS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>am?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function $c(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,i.forEach(QS,t),Yc=null,Qc.call(t))}function QS(t,i){if(!(i.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:ie,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function YS(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function gv(t,i,a,l,h,d,_,S,N,z,$,J){return t=new YS(t,i,a,_,N,z,$,J,S),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Hf(d),t}function yv(t){return t?(t=Na,t):Na}function _v(t,i,a,l,h,d){h=yv(h),l.context===null?l.context=h:l.pendingContext=h,l=Nr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(t,l,i),a!==null&&(cn(a,t,i),hl(a,t,i))}function vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function om(t,i){vv(t,i),(t=t.alternate)&&vv(t,i)}function Ev(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&cn(i,t,67108864),om(t,67108864)}}function bv(t){if(t.tag===13||t.tag===31){var i=bn();i=As(i);var a=ks(t,i);a!==null&&cn(a,t,i),om(t,i)}}var Xc=!0;function $S(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,lm(t,i,a,l)}finally{se.p=d,Y.T=h}}function XS(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,lm(t,i,a,l)}finally{se.p=d,Y.T=h}}function lm(t,i,a,l){if(Xc){var h=um(l);if(h===null)Yd(t,i,l,Jc,a),Av(t,l);else if(WS(h,t,i,a,l))l.stopPropagation();else if(Av(t,l),i&4&&-1<JS.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-dt(_);S.entanglements[1]|=N,_&=~N}Ri(d),(Fe&6)===0&&(Mc=en()+500,xl(0))}}break;case 31:case 13:S=ks(d,2),S!==null&&cn(S,d,2),kc(),om(d,2)}if(d=um(l),d===null&&Yd(t,i,l,Jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yd(t,i,l,null,a)}}function um(t){return t=Rn(t),cm(t)}var Jc=null;function cm(t){if(Jc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jc=t,null}function Tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case Lo:return 2;case Po:return 8;case pr:case gf:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var hm=!1,qr=null,Hr=null,Fr=null,Vl=new Map,kl=new Map,Gr=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(t,i){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Ll(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&Ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function WS(t,i,a,l,h){switch(i){case"focusin":return qr=Ll(qr,t,i,a,l,h),!0;case"dragenter":return Hr=Ll(Hr,t,i,a,l,h),!0;case"mouseover":return Fr=Ll(Fr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ll(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function Sv(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){bv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){bv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return i=wn(a),i!==null&&Ev(i),t.blockedOn=a,!1;i.shift()}return!0}function wv(t,i,a){Wc(t)&&a.delete(i)}function ZS(){hm=!1,qr!==null&&Wc(qr)&&(qr=null),Hr!==null&&Wc(Hr)&&(Hr=null),Fr!==null&&Wc(Fr)&&(Fr=null),Vl.forEach(wv),kl.forEach(wv)}function Zc(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZS)))}var eh=null;function Rv(t){eh!==t&&(eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(i,3),i-=3,ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(t){function i(N){return Zc(N,t)}qr!==null&&Zc(qr,t),Hr!==null&&Zc(Hr,t),Fr!==null&&Zc(Fr,t),Vl.forEach(i),kl.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&Gr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Rv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(cm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Rv(a)}}}function xv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function fm(t){this._internalRoot=t}th.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();_v(a,l,t,i,null,null)},th.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;_v(t.current,2,null,t,null,null),kc(),i[ci]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=ku();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,t),a===0&&Sv(t)}};var Cv=e.version;if(Cv!=="19.2.3")throw Error(s(527,Cv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var ew={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{qn=nh.inject(ew),zt=nh}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ky,d=Ly,_=Py;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=gv(t,1,!1,null,null,a,l,null,h,d,_,xv),t[ci]=i.current,Qd(t),new fm(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ky,_=Ly,S=Py,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=gv(t,1,!0,i,a??null,l,h,N,d,_,S,xv),i.context=yv(null),a=i.current,l=bn(),l=As(l),h=Nr(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,bs(i,a),Ri(i),t[ci]=i.current,Qd(t),new th(i)},Ul.version="19.2.3",Ul}var Uv;function hw(){if(Uv)return pm.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=cw(),pm.exports}var fw=hw();const dw=R0(fw);var jv="popstate";function mw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Pm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:eu(o)}return gw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pw(){return Math.random().toString(36).substring(2,10)}function zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Pm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||pw()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function To(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function gw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let F=E(),W=F==null?null:F-p;p=F,g&&g({action:m,location:q.location,delta:W})}function R(F,W){m="PUSH";let Z=Pm(q.location,F,W);p=E()+1;let ie=zv(Z,p),_e=q.createHref(Z);try{f.pushState(ie,"",_e)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(_e)}u&&g&&g({action:m,location:q.location,delta:1})}function k(F,W){m="REPLACE";let Z=Pm(q.location,F,W);p=E();let ie=zv(Z,p),_e=q.createHref(Z);f.replaceState(ie,"",_e),u&&g&&g({action:m,location:q.location,delta:0})}function Q(F){return yw(F)}let q={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(jv,A),g=F,()=>{o.removeEventListener(jv,A),g=null}},createHref(F){return e(o,F)},createURL:Q,encodeLocation(F){let W=Q(F);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:R,replace:k,go(F){return f.go(F)}};return q}function yw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function x0(r,e,n="/"){return _w(r,e,n,!1)}function _w(r,e,n,s){let o=typeof e=="string"?To(e):e,u=ar(o.pathname||"/",n);if(u==null)return null;let f=C0(r);vw(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Nw(u);m=Cw(f[g],p,s)}return m}function C0(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=nr([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),C0(f.children,e,R,A,g)),!(f.path==null&&!f.index)&&e.push({path:A,score:Rw(A,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of I0(f.path))u(f,m,!0,g)}),e}function I0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=I0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function vw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:xw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ew=/^:[\w-]+$/,bw=3,Tw=2,Aw=1,Sw=10,ww=-2,Bv=r=>r==="*";function Rw(r,e){let n=r.split("/"),s=n.length;return n.some(Bv)&&(s+=ww),e&&(s+=Tw),n.filter(o=>!Bv(o)).reduce((o,u)=>o+(Ew.test(u)?bw:u===""?Aw:Sw),s)}function xw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Cw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),R=g.route;if(!A&&p&&n&&!s[s.length-1].route.index&&(A=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:nr([u,A.pathname]),pathnameBase:Vw(nr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=nr([u,A.pathnameBase]))}return f}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Iw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:A},R)=>{if(E==="*"){let Q=m[R]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const k=m[R];return A&&!k?p[E]=void 0:p[E]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function Iw(r,e=!1,n=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Nw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ar(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var N0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dw=r=>N0.test(r);function Ow(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?To(r):r,u;if(n)if(Dw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=qv(n.substring(1),"/"):u=qv(n,e)}else u=e;return{pathname:u,search:kw(s),hash:Lw(o)}}function qv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fp(r){let e=Mw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dp(r,e,n,s=!1){let o;typeof r=="string"?o=To(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let g=Ow(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),Vw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Lw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Pw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function jw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var D0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function O0(r,e){let n=r;if(typeof n!="string"||!N0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(D0)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ar(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var M0=["POST","PUT","PATCH","DELETE"];new Set(M0);var zw=["GET",...M0];new Set(zw);var Ao=H.createContext(null);Ao.displayName="DataRouter";var Gh=H.createContext(null);Gh.displayName="DataRouterState";var Bw=H.createContext(!1),V0=H.createContext({isTransitioning:!1});V0.displayName="ViewTransition";var qw=H.createContext(new Map);qw.displayName="Fetchers";var Hw=H.createContext(null);Hw.displayName="Await";var An=H.createContext(null);An.displayName="Navigation";var mu=H.createContext(null);mu.displayName="Location";var Vi=H.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var mp=H.createContext(null);mp.displayName="RouteError";var k0="REACT_ROUTER_ERROR",Fw="REDIRECT",Gw="ROUTE_ERROR_RESPONSE";function Kw(r){if(r.startsWith(`${k0}:${Fw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Qw(r){if(r.startsWith(`${k0}:${Gw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Pw(e.status,e.statusText,e.data)}catch{}}function Yw(r,{relative:e}={}){ut(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(An),{hash:o,pathname:u,search:f}=pu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return H.useContext(mu)!=null}function hr(){return ut(So(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(mu).location}var L0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(r){H.useContext(An).static||H.useLayoutEffect(r)}function fs(){let{isDataRoute:r}=H.useContext(Vi);return r?o1():$w()}function $w(){ut(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Ao),{basename:e,navigator:n}=H.useContext(An),{matches:s}=H.useContext(Vi),{pathname:o}=hr(),u=JSON.stringify(fp(s)),f=H.useRef(!1);return P0(()=>{f.current=!0}),H.useCallback((g,p={})=>{if(Bn(f.current,L0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=dp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:nr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}H.createContext(null);function pu(r,{relative:e}={}){let{matches:n}=H.useContext(Vi),{pathname:s}=hr(),o=JSON.stringify(fp(n));return H.useMemo(()=>dp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Xw(r,e){return U0(r,e)}function U0(r,e,n,s,o){ut(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(An),{matches:f}=H.useContext(Vi),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let Z=A&&A.path||"";z0(p,!A||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let R=hr(),k;if(e){let Z=typeof e=="string"?To(e):e;ut(E==="/"||Z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),k=Z}else k=R;let Q=k.pathname||"/",q=Q;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");q="/"+Q.replace(/^\//,"").split("/").slice(Z.length).join("/")}let F=x0(r,{pathname:q});Bn(A||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Bn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=t1(F&&F.map(Z=>Object.assign({},Z,{params:Object.assign({},g,Z.params),pathname:nr([E,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:nr([E,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),f,n,s,o);return e&&W?H.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},W):W}function Jw(){let r=a1(),e=Uw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var Ww=H.createElement(Jw,null),j0=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Qw(r.digest);n&&(r=n)}let e=r!==void 0?H.createElement(Vi.Provider,{value:this.props.routeContext},H.createElement(mp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?H.createElement(Zw,{error:r},e):e}};j0.contextType=Bw;var Em=new WeakMap;function Zw({children:r,error:e}){let{basename:n}=H.useContext(An);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Kw(e.digest);if(s){let o=Em.get(e);if(o)throw o;let u=O0(s.location,n);if(D0&&!Em.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Em.set(e,f),f}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function e1({routeContext:r,match:e,children:n}){let s=H.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Vi.Provider,{value:r},n)}function t1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(A=>A.route.id&&f?.[A.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let A=u[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(g=E),A.route.id){let{loaderData:R,errors:k}=n,Q=A.route.loader&&!R.hasOwnProperty(A.route.id)&&(!k||k[A.route.id]===void 0);if(A.route.lazy||Q){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,A)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:jw(n.matches),errorInfo:A})}:void 0;return u.reduceRight((E,A,R)=>{let k,Q=!1,q=null,F=null;n&&(k=f&&A.route.id?f[A.route.id]:void 0,q=A.route.errorElement||Ww,m&&(g<0&&R===0?(z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,F=null):g===R&&(Q=!0,F=A.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,R+1)),Z=()=>{let ie;return k?ie=q:Q?ie=F:A.route.Component?ie=H.createElement(A.route.Component,null):A.route.element?ie=A.route.element:ie=E,H.createElement(e1,{match:A,routeContext:{outlet:E,matches:W,isDataRoute:n!=null},children:ie})};return n&&(A.route.ErrorBoundary||A.route.errorElement||R===0)?H.createElement(j0,{location:n.location,revalidation:n.revalidation,component:q,error:k,children:Z(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:p}):Z()},null)}function pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(r){let e=H.useContext(Ao);return ut(e,pp(r)),e}function i1(r){let e=H.useContext(Gh);return ut(e,pp(r)),e}function r1(r){let e=H.useContext(Vi);return ut(e,pp(r)),e}function gp(r){let e=r1(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function s1(){return gp("useRouteId")}function a1(){let r=H.useContext(mp),e=i1("useRouteError"),n=gp("useRouteError");return r!==void 0?r:e.errors?.[n]}function o1(){let{router:r}=n1("useNavigate"),e=gp("useNavigate"),n=H.useRef(!1);return P0(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Bn(n.current,L0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Hv={};function z0(r,e,n){!e&&!Hv[r]&&(Hv[r]=!0,Bn(!1,n))}H.memo(l1);function l1({routes:r,future:e,state:n,onError:s}){return U0(r,void 0,n,s,e)}function bm({to:r,replace:e,state:n,relative:s}){ut(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(An);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Vi),{pathname:f}=hr(),m=fs(),g=dp(r,fp(u),f,s==="path"),p=JSON.stringify(g);return H.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Yr(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ut(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:E="",hash:A="",state:R=null,key:k="default"}=n,Q=H.useMemo(()=>{let q=ar(p,m);return q==null?null:{location:{pathname:q,search:E,hash:A,state:R,key:k},navigationType:s}},[m,p,E,A,R,k,s]);return Bn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:H.createElement(An.Provider,{value:g},H.createElement(mu.Provider,{children:e,value:Q}))}function c1({children:r,location:e}){return Xw(Um(r),e)}function Um(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Um(s.props.children,u));return}ut(s.type===Yr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Um(s.props.children,u)),n.push(f)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Kh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function h1(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function f1(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function d1(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function m1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function p1(r,e){return r.button===0&&(!e||e==="_self")&&!m1(r)}var ih=null;function g1(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var y1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!y1.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function _1(r,e){let n,s,o,u,f;if(f1(r)){let m=r.getAttribute("action");s=m?ar(m,e):null,n=r.getAttribute("method")||hh,o=Tm(r.getAttribute("enctype"))||fh,u=new FormData(r)}else if(h1(r)||d1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?ar(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Tm(r.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||fh,u=new FormData(m,r),!g1()){let{name:p,type:E,value:A}=r;if(E==="image"){let R=p?`${p}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else p&&u.append(p,A)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function v1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ar(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function E1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function T1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await E1(u,n);return f.links?f.links():[]}return[]}));return R1(s.flat(1).filter(b1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fv(r,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function A1(r,e,{includeHydrateFallback:n}={}){return S1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function S1(r){return[...new Set(r)]}function w1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function R1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(w1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function B0(){let r=H.useContext(Ao);return yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function x1(){let r=H.useContext(Gh);return yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _p=H.createContext(void 0);_p.displayName="FrameworkContext";function q0(){let r=H.useContext(_p);return yp(r,"You must render this element inside a <HydratedRouter> element"),r}function C1(r,e){let n=H.useContext(_p),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:A}=e,R=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let q=W=>{W.forEach(Z=>{f(Z.isIntersecting)})},F=new IntersectionObserver(q,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),H.useEffect(()=>{if(s){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[s]);let k=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:jl(m,k),onBlur:jl(g,Q),onMouseEnter:jl(p,k),onMouseLeave:jl(E,Q),onTouchStart:jl(A,k)}]:[!1,R,{}]}function jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function I1({page:r,...e}){let{router:n}=B0(),s=H.useMemo(()=>x0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(D1,{page:r,matches:s,...e}):null}function N1(r){let{manifest:e,routeModules:n}=q0(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return T1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function D1({page:r,matches:e,...n}){let s=hr(),{future:o,manifest:u,routeModules:f}=q0(),{basename:m}=B0(),{loaderData:g,matches:p}=x1(),E=H.useMemo(()=>Fv(r,e,p,u,s,"data"),[r,e,p,u,s]),A=H.useMemo(()=>Fv(r,e,p,u,s,"assets"),[r,e,p,u,s]),R=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let q=new Set,F=!1;if(e.forEach(Z=>{let ie=u.routes[Z.route.id];!ie||!ie.hasLoader||(!E.some(_e=>_e.route.id===Z.route.id)&&Z.route.id in g&&f[Z.route.id]?.shouldRevalidate||ie.hasClientLoader?F=!0:q.add(Z.route.id))}),q.size===0)return[];let W=v1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&q.size>0&&W.searchParams.set("_routes",e.filter(Z=>q.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[W.pathname+W.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),k=H.useMemo(()=>A1(A,u),[A,u]),Q=N1(A);return H.createElement(H.Fragment,null,R.map(q=>H.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),k.map(q=>H.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),Q.map(({key:q,link:F})=>H.createElement("link",{key:q,nonce:n.nonce,...F})))}function O1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M1&&(window.__reactRouterVersion="7.12.0")}catch{}function V1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=H.useRef();o.current==null&&(o.current=mw({window:s,v5Compat:!0}));let u=o.current,[f,m]=H.useState({action:u.action,location:u.location}),g=H.useCallback(p=>{n===!1?m(p):H.startTransition(()=>m(p))},[n]);return H.useLayoutEffect(()=>u.listen(g),[u,g]),H.createElement(u1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$r=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:R,...k},Q){let{basename:q,unstable_useTransitions:F}=H.useContext(An),W=typeof p=="string"&&H0.test(p),Z=O0(p,q);p=Z.to;let ie=Yw(p,{relative:o}),[_e,Ce,Ae]=C1(s,k),I=U1(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:R,unstable_useTransitions:F});function x(D){e&&e(D),D.defaultPrevented||I(D)}let T=H.createElement("a",{...k,...Ae,href:Z.absoluteURL||ie,onClick:Z.isExternal||u?e:x,ref:O1(Q,Ce),target:g,"data-discover":!W&&n==="render"?"true":void 0});return _e&&!W?H.createElement(H.Fragment,null,T,H.createElement(I1,{page:ie})):T});$r.displayName="Link";var k1=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let A=pu(f,{relative:p.relative}),R=hr(),k=H.useContext(Gh),{navigator:Q,basename:q}=H.useContext(An),F=k!=null&&H1(A)&&m===!0,W=Q.encodeLocation?Q.encodeLocation(A).pathname:A.pathname,Z=R.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),ie=ie?ie.toLowerCase():null,W=W.toLowerCase()),ie&&q&&(ie=ar(ie,q)||ie);const _e=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Ce=Z===W||!o&&Z.startsWith(W)&&Z.charAt(_e)==="/",Ae=ie!=null&&(ie===W||!o&&ie.startsWith(W)&&ie.charAt(W.length)==="/"),I={isActive:Ce,isPending:Ae,isTransitioning:F},x=Ce?e:void 0,T;typeof s=="function"?T=s(I):T=[s,Ce?"active":null,Ae?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(I):u;return H.createElement($r,{...p,"aria-current":x,className:T,ref:E,style:D,to:f,viewTransition:m},typeof g=="function"?g(I):g)});k1.displayName="NavLink";var L1=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=hh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:R,...k},Q)=>{let{unstable_useTransitions:q}=H.useContext(An),F=B1(),W=q1(m,{relative:p}),Z=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&H0.test(m),_e=Ce=>{if(g&&g(Ce),Ce.defaultPrevented)return;Ce.preventDefault();let Ae=Ce.nativeEvent.submitter,I=Ae?.getAttribute("formmethod")||f,x=()=>F(Ae||Ce.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:R});q&&n!==!1?H.startTransition(()=>x()):x()};return H.createElement("form",{ref:Q,method:Z,action:W,onSubmit:s?g:_e,...k,"data-discover":!ie&&r==="render"?"true":void 0})});L1.displayName="Form";function P1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(r){let e=H.useContext(Ao);return ut(e,P1(r)),e}function U1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=fs(),E=hr(),A=pu(r,{relative:u});return H.useCallback(R=>{if(p1(R,e)){R.preventDefault();let k=n!==void 0?n:eu(E)===eu(A),Q=()=>p(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?H.startTransition(()=>Q()):Q()}},[E,p,A,n,s,e,r,o,u,f,m,g])}var j1=0,z1=()=>`__${String(++j1)}__`;function B1(){let{router:r}=F0("useSubmit"),{basename:e}=H.useContext(An),n=s1(),s=r.fetch,o=r.navigate;return H.useCallback(async(u,f={})=>{let{action:m,method:g,encType:p,formData:E,body:A}=_1(u,e);if(f.navigate===!1){let R=f.fetcherKey||z1();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function q1(r,{relative:e}={}){let{basename:n}=H.useContext(An),s=H.useContext(Vi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(r||".",{relative:e})},f=hr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),eu(u)}function H1(r,{relative:e}={}){let n=H.useContext(V0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=F0("useViewTransitionState"),o=pu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,f)!=null||Sh(o.pathname,u)!=null}const F1=()=>{};var Gv={};const G0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},G1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|p>>6,k=p&63;g||(k=64,f||(R=64)),s.push(n[E],n[A],n[R],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(G0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):G1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||A==null)throw new K1;const R=u<<2|m>>4;if(s.push(R),p!==64){const k=m<<4&240|p>>2;if(s.push(k),A!==64){const Q=p<<6&192|A;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(r){const e=G0(r);return K0.encodeByteArray(e,!0)},wh=function(r){return Q1(r).replace(/\./g,"")},Q0=function(r){try{return K0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $1=()=>Y1().__FIREBASE_DEFAULTS__,X1=()=>{if(typeof process>"u"||typeof Gv>"u")return;const r=Gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},J1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Q0(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return F1()||$1()||X1()||J1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y0=r=>Qh()?.emulatorHosts?.[r],W1=r=>{const e=Y0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$0=()=>Qh()?.config,X0=r=>Qh()?.[`_${r}`];class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J0(r){return(await fetch(r,{credentials:"include"})).ok}function eR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(n)),wh(JSON.stringify(f)),""].join(".")}const Yl={};function tR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?r.emulator.push(e):r.prod.push(e);return r}function nR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Kv=!1;function W0(r,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Yl[r]===e||Yl[r]||Kv)return;Yl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=tR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Kv=!0,f()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=nR(s),k=n("text"),Q=document.getElementById(k)||document.createElement("span"),q=n("learnmore"),F=document.getElementById(q)||document.createElement("a"),W=n("preprendIcon"),Z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ie=R.element;m(ie),E(F,q);const _e=p();g(Z,W),ie.append(Z,Q,F,_e),document.body.appendChild(ie)}u?(Q.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function rR(){const r=Qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){try{return typeof indexedDB=="object"}catch{return!1}}function hR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const fR="FirebaseError";class fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=fR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?dR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fr(o,m,s)}}function dR(r,e){return r.replace(mR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mR=/\{\$([^}]+)}/g;function pR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Zs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Qv(u)&&Qv(f)){if(!Zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Qv(r){return r!==null&&typeof r=="object"}function yu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function gR(r,e){const n=new yR(r,e);return n.subscribe.bind(n)}class yR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}function kt(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class vR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Z1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(r){return r===$s?void 0:r}function bR(r){return r.instantiationMode==="EAGER"}class TR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const AR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},SR=Ve.INFO,wR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},RR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=wR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const xR=(r,e)=>e.some(n=>r instanceof n);let Yv,$v;function CR(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,jm=new WeakMap,eb=new WeakMap,Sm=new WeakMap,Ep=new WeakMap;function NR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Z0.set(n,r)}).catch(()=>{}),Ep.set(e,r),e}function DR(r){if(jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});jm.set(r,e)}let zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||eb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function OR(r){zm=r(zm)}function MR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(wm(this),e,...n);return eb.set(s,e.sort?e.sort():[e]),ts(s)}:IR().includes(r)?function(...e){return r.apply(wm(this),e),ts(Z0.get(this))}:function(...e){return ts(r.apply(wm(this),e))}}function VR(r){return typeof r=="function"?MR(r):(r instanceof IDBTransaction&&DR(r),xR(r,CR())?new Proxy(r,zm):r)}function ts(r){if(r instanceof IDBRequest)return NR(r);if(Sm.has(r))return Sm.get(r);const e=VR(r);return e!==r&&(Sm.set(r,e),Ep.set(e,r)),e}const wm=r=>Ep.get(r);function kR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ts(f.result),g.oldVersion,g.newVersion,ts(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const LR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Rm=new Map;function Xv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Rm.set(e,u),u}OR(r=>({...r,get:(e,n,s)=>Xv(e,n)||r.get(e,n,s),has:(e,n)=>!!Xv(e,n)||r.has(e,n)}));class UR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jR(r){return r.getComponent()?.type==="VERSION"}const Bm="@firebase/app",Jv="0.14.7";const or=new vp("@firebase/app"),zR="@firebase/app-compat",BR="@firebase/analytics-compat",qR="@firebase/analytics",HR="@firebase/app-check-compat",FR="@firebase/app-check",GR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",YR="@firebase/data-connect",$R="@firebase/database-compat",XR="@firebase/functions",JR="@firebase/functions-compat",WR="@firebase/installations",ZR="@firebase/installations-compat",ex="@firebase/messaging",tx="@firebase/messaging-compat",nx="@firebase/performance",ix="@firebase/performance-compat",rx="@firebase/remote-config",sx="@firebase/remote-config-compat",ax="@firebase/storage",ox="@firebase/storage-compat",lx="@firebase/firestore",ux="@firebase/ai",cx="@firebase/firestore-compat",hx="firebase",fx="12.8.0";const qm="[DEFAULT]",dx={[Bm]:"fire-core",[zR]:"fire-core-compat",[qR]:"fire-analytics",[BR]:"fire-analytics-compat",[FR]:"fire-app-check",[HR]:"fire-app-check-compat",[GR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[YR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[XR]:"fire-fn",[JR]:"fire-fn-compat",[WR]:"fire-iid",[ZR]:"fire-iid-compat",[ex]:"fire-fcm",[tx]:"fire-fcm-compat",[nx]:"fire-perf",[ix]:"fire-perf-compat",[rx]:"fire-rc",[sx]:"fire-rc-compat",[ax]:"fire-gcs",[ox]:"fire-gcs-compat",[lx]:"fire-fst",[cx]:"fire-fst-compat",[ux]:"fire-vertex","fire-js":"fire-js",[hx]:"fire-js-all"};const Rh=new Map,mx=new Map,Hm=new Map;function Wv(r,e){try{r.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function mo(r){const e=r.name;if(Hm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,r);for(const n of Rh.values())Wv(n,r);for(const n of mx.values())Wv(n,r);return!0}function bp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}const px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new gu("app","Firebase",px);class gx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const Ro=fx;function tb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=$0()),!n)throw ns.create("no-options");const u=Rh.get(o);if(u){if(Zs(n,u.options)&&Zs(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new TR(o);for(const g of Hm.values())f.addComponent(g);const m=new gx(n,s,f);return Rh.set(o,m),m}function nb(r=qm){const e=Rh.get(r);if(!e&&r===qm&&$0())return tb();if(!e)throw ns.create("no-app",{appName:r});return e}function is(r,e,n){let s=dx[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(f.join(" "));return}mo(new ea(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const yx="firebase-heartbeat-database",_x=1,tu="firebase-heartbeat-store";let xm=null;function ib(){return xm||(xm=kR(yx,_x,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),xm}async function vx(r){try{const n=(await ib()).transaction(tu),s=await n.objectStore(tu).get(rb(r));return await n.done,s}catch(e){if(e instanceof fr)or.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}}async function Zv(r,e){try{const s=(await ib()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,rb(r)),await s.done}catch(n){if(n instanceof fr)or.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});or.warn(s.message)}}}function rb(r){return`${r.name}!${r.options.appId}`}const Ex=1024,bx=30;class Tx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>bx){const o=wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eE(),{heartbeatsToSend:n,unsentEntries:s}=Ax(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return or.warn(e),""}}}function eE(){return new Date().toISOString().substring(0,10)}function Ax(r,e=Ex){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),tE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Sx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cR()?hR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tE(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function wx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Rx(r){mo(new ea("platform-logger",e=>new UR(e),"PRIVATE")),mo(new ea("heartbeat",e=>new Tx(e),"PRIVATE")),is(Bm,Jv,r),is(Bm,Jv,"esm2020"),is("fire-js","")}Rx("");var xx="firebase",Cx="12.8.0";is(xx,Cx,"app");function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ix=sb,ab=new gu("auth","Firebase",sb());const xh=new vp("@firebase/auth");function Nx(r,...e){xh.logLevel<=Ve.WARN&&xh.warn(`Auth (${Ro}): ${r}`,...e)}function dh(r,...e){xh.logLevel<=Ve.ERROR&&xh.error(`Auth (${Ro}): ${r}`,...e)}function ii(r,...e){throw Tp(r,...e)}function Ci(r,...e){return Tp(r,...e)}function ob(r,e,n){const s={...Ix(),[e]:n};return new gu("auth","Firebase",s).create(e,{appName:r.name})}function ir(r){return ob(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ab.create(r,...e)}function ge(r,e,...n){if(!r)throw Tp(e,...n)}function er(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function lr(r,e){r||er(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function Dx(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function Ox(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dx()||aR()||"connection"in navigator)?navigator.onLine:!0}function Mx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=iR()||oR()}get(){return Ox()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(r,e){lr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lx=new _u(3e4,6e4);function ds(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ms(r,e,n,s,o={}){return ub(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=yu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return sR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&wo(r.emulatorConfig.host)&&(p.credentials="include"),lb.fetch()(await cb(r,r.config.apiHost,n,m),p)})}async function ub(r,e,n){r._canInitEmulator=!1;const s={...Vx,...e};try{const o=new Ux(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw rh(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ob(r,E,p);ii(r,E)}}catch(o){if(o instanceof fr)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function vu(r,e,n,s,o={}){const u=await ms(r,e,n,s,o);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Ap(r.config,o):`${r.config.apiScheme}://${o}`;return kx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Px(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ux{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),Lx.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=n,o}function iE(r){return r!==void 0&&r.enterprise!==void 0}class jx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Px(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zx(r,e){return ms(r,"GET","/v2/recaptchaConfig",ds(r,e))}async function Bx(r,e){return ms(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return ms(r,"POST","/v1/accounts:lookup",e)}function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qx(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=Sp(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(Cm(o.auth_time)),issuedAtTime:$l(Cm(o.iat)),expirationTime:$l(Cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cm(r){return Number(r)*1e3}function Sp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q0(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rE(r){const e=Sp(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fr&&Hx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Hx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Fx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(r){const e=r.auth,n=await r.getIdToken(),s=await nu(r,Ch(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?hb(o.providerUserInfo):[],f=Kx(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function Gx(r){const e=kt(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Qx(r,e){const n=await ub(r,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await cb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&wo(r.emulatorConfig.host)&&(g.credentials="include"),lb.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Yx(r,e){return ms(r,"POST","/v2/accounts:revokeToken",ds(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Qx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return er("not implemented")}}function Qr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Fx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qx(this,e)}reload(){return Gx(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await nu(this,Bx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:k,providerData:Q,stsTokenManager:q}=n;ge(A&&q,e,"internal-error");const F=oo.fromJSON(this.name,q);ge(typeof A=="string",e,"internal-error"),Qr(s,e.name),Qr(o,e.name),ge(typeof R=="boolean",e,"internal-error"),ge(typeof k=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(m,e.name),Qr(g,e.name),Qr(p,e.name),Qr(E,e.name);const W=new ei({uid:A,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:p,lastLoginAt:E});return Q&&Array.isArray(Q)&&(W.providerData=Q.map(Z=>({...Z}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const g=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const sE=new Map;function tr(r){lr(r instanceof Function,"Expected a class definition");let e=sE.get(r);return e?(lr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sE.set(r,e),e)}class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fb.type="NONE";const aE=fb;function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(tr(aE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||tr(aE);const f=mh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let A;if(typeof E=="string"){const R=await Ch(e,{idToken:E}).catch(()=>{});if(!R)break;A=await ei._fromGetAccountInfoResponse(e,R,E)}else A=ei._fromJSON(e,E);p!==u&&(m=A),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new lo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new lo(u,e,s))}}function oE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_b(e))return"Blackberry";if(vb(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function db(r=Zt()){return/firefox\//i.test(r)}function mb(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(r=Zt()){return/crios\//i.test(r)}function gb(r=Zt()){return/iemobile/i.test(r)}function yb(r=Zt()){return/android/i.test(r)}function _b(r=Zt()){return/blackberry/i.test(r)}function vb(r=Zt()){return/webos/i.test(r)}function wp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $x(r=Zt()){return wp(r)&&!!window.navigator?.standalone}function Xx(){return lR()&&document.documentMode===10}function Eb(r=Zt()){return wp(r)||yb(r)||vb(r)||_b(r)||/windows phone/i.test(r)||gb(r)}function bb(r,e=[]){let n;switch(r){case"Browser":n=oE(Zt());break;case"Worker":n=`${oE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}class Jx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Wx(r,e={}){return ms(r,"GET","/v2/passwordPolicy",ds(r,e))}const Zx=6;class eC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Zx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class tC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new Jx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ir(this));const n=e?kt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Wx(this),n=new eC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Yx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Nx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function aa(r){return kt(r)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gR(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(r){Yh=r}function Tb(r){return Yh.loadJS(r)}function iC(){return Yh.recaptchaEnterpriseScript}function rC(){return Yh.gapiScript}function sC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class aC{constructor(){this.enterprise=new oC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lC="recaptcha-enterprise",Ab="NO_RECAPTCHA";class uC{constructor(e){this.type=lC,this.auth=aa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{zx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new jx(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;iE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(Ab)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&iE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=iC();g.length!==0&&(g+=m),Tb(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function uE(r,e,n,s=!1,o=!1){const u=new uC(r);let f;if(o)f=Ab;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await uE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function cC(r,e){const n=bp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zs(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function hC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function fC(r,e,n){const s=aa(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Sb(e),{host:f,port:m}=dC(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Zs(p,s.config.emulator)&&Zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,wo(f)?(J0(`${u}//${f}${g}`),W0("Auth",!0)):mC()}function Sb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function dC(r){const e=Sb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:cE(f)}}}function cE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function pC(r,e){return ms(r,"POST","/v1/accounts:signUp",e)}async function gC(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",ds(r,e))}async function yC(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}async function _C(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}class iu extends Rp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,n,"signInWithPassword",gC);case"emailLink":return yC(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,s,"signUpPassword",pC);case"emailLink":return _C(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",ds(r,e))}const vC="http://localhost";class ta extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}function EC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bC(r){const e=Bl(ql(r)).link,n=e?Bl(ql(e)).deep_link_id:null,s=Bl(ql(r)).deep_link_id;return(s?Bl(ql(s)).link:null)||s||n||e||r}class xp{constructor(e){const n=Bl(ql(e)),s=n.apiKey??null,o=n.oobCode??null,u=EC(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bC(e);try{return new xp(n)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=xp.parseLink(n);return ge(s,"argument-error"),iu._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eu extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xr extends Eu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";class Jr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";class Wr extends Eu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class Zr extends Eu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";async function TC(r,e){return vu(r,"POST","/v1/accounts:signUp",ds(r,e))}class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),f=hE(s);return new na({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new na({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Nh extends fr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function Rb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function AC(r,e,n=!1){const s=await nu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return na._forOperation(r,"link",s)}async function SC(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await nu(r,Rb(s,o,e,r),n);ge(u.idToken,s,"internal-error");const f=Sp(u.idToken);ge(f,s,"internal-error");const{sub:m}=f;return ge(r.uid===m,s,"user-mismatch"),na._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}async function xb(r,e,n=!1){if(Pn(r.app))return Promise.reject(ir(r));const s="signIn",o=await Rb(r,s,e),u=await na._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function wC(r,e){return xb(aa(r),e)}async function Cb(r){const e=aa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fE(r,e,n){if(Pn(r.app))return Promise.reject(ir(r));const s=aa(r),f=await Km(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Cb(r),g}),m=await na._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function dE(r,e,n){return Pn(r.app)?Promise.reject(ir(r)):wC(kt(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Cb(r),s})}function RC(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function xC(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function CC(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}function IC(r){return kt(r).signOut()}const Dh="__sak";class Ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NC=1e3,DC=10;class Nb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Xx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nb.type="LOCAL";const OC=Nb;class Db extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Db.type="SESSION";const Ob=Db;function MC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await MC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Cp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class VC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Cp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function kC(r){Ii().location.href=r}function Mb(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function LC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PC(){return navigator?.serviceWorker?.controller||null}function UC(){return Mb()?self:null}const Vb="firebaseLocalStorageDb",jC=1,Oh="firebaseLocalStorage",kb="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function zC(){const r=indexedDB.deleteDatabase(Vb);return new bu(r).toPromise()}function Qm(){const r=indexedDB.open(Vb,jC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:kb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await zC(),e(await Qm()))})})}async function mE(r,e,n){const s=Xh(r,!0).put({[kb]:e,value:n});return new bu(s).toPromise()}async function BC(r,e){const n=Xh(r,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function pE(r,e){const n=Xh(r,!0).delete(e);return new bu(n).toPromise()}const qC=800,HC=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(UC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new VC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await mE(e,Dh,"1"),await pE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>mE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>BC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const FC=Lb;new _u(3e4,6e4);function GC(r,e){return e?tr(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ip extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KC(r){return xb(r.auth,new Ip(r),r.bypassAuthState)}function QC(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),SC(n,new Ip(r),r.bypassAuthState)}async function YC(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),AC(n,new Ip(r),r.bypassAuthState)}class Pb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return QC;default:ii(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $C=new _u(2e3,1e4);class so extends Pb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$C.get())};e()}}so.currentPopupAction=null;const XC="pendingRedirect",ph=new Map;class JC extends Pb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(r,e){const n=tI(e),s=eI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZC(r,e){ph.set(r._key(),e)}function eI(r){return tr(r._redirectPersistence)}function tI(r){return mh(XC,r.config.apiKey,r.name)}async function nI(r,e,n=!1){if(Pn(r.app))return Promise.reject(ir(r));const s=aa(r),o=GC(s,e),f=await new JC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const iI=600*1e3;class rI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ub(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iI&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ub({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function sI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(r);default:return!1}}async function aI(r,e={}){return ms(r,"GET","/v1/projects",e)}const oI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lI=/^https?/;async function uI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await aI(r);for(const n of e)try{if(cI(n))return}catch{}ii(r,"unauthorized-domain")}function cI(r){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!lI.test(n))return!1;if(oI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const hI=new _u(3e4,6e4);function yE(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function fI(r){return new Promise((e,n)=>{function s(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),n(Ci(r,"network-request-failed"))},timeout:hI.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=sC("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},Tb(`${rC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw gh=null,e})}let gh=null;function dI(r){return gh=gh||fI(r),gh}const mI=new _u(5e3,15e3),pI="__/auth/iframe",gI="emulator/auth/iframe",yI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vI(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ap(e,gI):`https://${r.config.authDomain}/${pI}`,s={apiKey:e.apiKey,appName:r.name,v:Ro},o=_I.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function EI(r){const e=await dI(r),n=Ii().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:vI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},mI.get());function g(){Ii().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TI=500,AI=600,SI="_blank",wI="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RI(r,e,n,s=TI,o=AI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...bI,width:s.toString(),height:o.toString(),top:u,left:f},p=Zt().toLowerCase();n&&(m=pb(p)?SI:n),db(p)&&(e=e||wI,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[k,Q])=>`${R}${k}=${Q},`,"");if($x(p)&&m!=="_self")return xI(e||"",m),new _E(null);const A=window.open(e||"",m,E);ge(A,r,"popup-blocked");try{A.focus()}catch{}return new _E(A)}function xI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const CI="__/auth/handler",II="emulator/auth/handler",NI=encodeURIComponent("fac");async function vE(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof wb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",pR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Eu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${NI}=${encodeURIComponent(g)}`:"";return`${DI(r)}?${yu(m).slice(1)}${p}`}function DI({config:r}){return r.emulator?Ap(r,II):`https://${r.authDomain}/${CI}`}const Im="webStorageSupport";class OI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=nI,this._overrideRedirectResult=ZC}async _openPopup(e,n,s,o){lr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await vE(e,n,s,Fm(),o);return RI(e,u,Cp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await vE(e,n,s,Fm(),o);return kC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await EI(e),s=new rI(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{const u=o?.[0]?.[Im];u!==void 0&&n(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Eb()||mb()||wp()}}const MI=OI;var EE="@firebase/auth",bE="1.12.0";class VI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(r){mo(new ea("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(r)},p=new tC(s,o,u,g);return hC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mo(new ea("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(s=>new VI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(EE,bE,kI(r)),is(EE,bE,"esm2020")}const PI=300,UI=X0("authIdTokenMaxAge")||PI;let TE=null;const jI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UI)return;const o=n?.token;TE!==o&&(TE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zI(r=nb()){const e=bp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=cC(r,{popupRedirectResolver:MI,persistence:[FC,OC,Ob]}),s=X0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=jI(u.toString());xC(n,f,()=>f(n.currentUser)),RC(n,m=>f(m))}}const o=Y0("auth");return o&&fC(n,`http://${o}`),n}function BI(){return document.getElementsByTagName("head")?.[0]??document}nC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",BI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,jb;(function(){var r;function e(I,x){function T(){}T.prototype=x.prototype,I.F=x.prototype,I.prototype=new T,I.prototype.constructor=I,I.D=function(D,O,L){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return x.prototype[O].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,T){T||(T=0);const D=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)D[O]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(O=0;O<16;++O)D[O]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=I.g[0],T=I.g[1],O=I.g[2];let L=I.g[3],C;C=x+(L^T&(O^L))+D[0]+3614090360&4294967295,x=T+(C<<7&4294967295|C>>>25),C=L+(O^x&(T^O))+D[1]+3905402710&4294967295,L=x+(C<<12&4294967295|C>>>20),C=O+(T^L&(x^T))+D[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=T+(x^O&(L^x))+D[3]+3250441966&4294967295,T=O+(C<<22&4294967295|C>>>10),C=x+(L^T&(O^L))+D[4]+4118548399&4294967295,x=T+(C<<7&4294967295|C>>>25),C=L+(O^x&(T^O))+D[5]+1200080426&4294967295,L=x+(C<<12&4294967295|C>>>20),C=O+(T^L&(x^T))+D[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=T+(x^O&(L^x))+D[7]+4249261313&4294967295,T=O+(C<<22&4294967295|C>>>10),C=x+(L^T&(O^L))+D[8]+1770035416&4294967295,x=T+(C<<7&4294967295|C>>>25),C=L+(O^x&(T^O))+D[9]+2336552879&4294967295,L=x+(C<<12&4294967295|C>>>20),C=O+(T^L&(x^T))+D[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=T+(x^O&(L^x))+D[11]+2304563134&4294967295,T=O+(C<<22&4294967295|C>>>10),C=x+(L^T&(O^L))+D[12]+1804603682&4294967295,x=T+(C<<7&4294967295|C>>>25),C=L+(O^x&(T^O))+D[13]+4254626195&4294967295,L=x+(C<<12&4294967295|C>>>20),C=O+(T^L&(x^T))+D[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=T+(x^O&(L^x))+D[15]+1236535329&4294967295,T=O+(C<<22&4294967295|C>>>10),C=x+(O^L&(T^O))+D[1]+4129170786&4294967295,x=T+(C<<5&4294967295|C>>>27),C=L+(T^O&(x^T))+D[6]+3225465664&4294967295,L=x+(C<<9&4294967295|C>>>23),C=O+(x^T&(L^x))+D[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=T+(L^x&(O^L))+D[0]+3921069994&4294967295,T=O+(C<<20&4294967295|C>>>12),C=x+(O^L&(T^O))+D[5]+3593408605&4294967295,x=T+(C<<5&4294967295|C>>>27),C=L+(T^O&(x^T))+D[10]+38016083&4294967295,L=x+(C<<9&4294967295|C>>>23),C=O+(x^T&(L^x))+D[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=T+(L^x&(O^L))+D[4]+3889429448&4294967295,T=O+(C<<20&4294967295|C>>>12),C=x+(O^L&(T^O))+D[9]+568446438&4294967295,x=T+(C<<5&4294967295|C>>>27),C=L+(T^O&(x^T))+D[14]+3275163606&4294967295,L=x+(C<<9&4294967295|C>>>23),C=O+(x^T&(L^x))+D[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=T+(L^x&(O^L))+D[8]+1163531501&4294967295,T=O+(C<<20&4294967295|C>>>12),C=x+(O^L&(T^O))+D[13]+2850285829&4294967295,x=T+(C<<5&4294967295|C>>>27),C=L+(T^O&(x^T))+D[2]+4243563512&4294967295,L=x+(C<<9&4294967295|C>>>23),C=O+(x^T&(L^x))+D[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=T+(L^x&(O^L))+D[12]+2368359562&4294967295,T=O+(C<<20&4294967295|C>>>12),C=x+(T^O^L)+D[5]+4294588738&4294967295,x=T+(C<<4&4294967295|C>>>28),C=L+(x^T^O)+D[8]+2272392833&4294967295,L=x+(C<<11&4294967295|C>>>21),C=O+(L^x^T)+D[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=T+(O^L^x)+D[14]+4259657740&4294967295,T=O+(C<<23&4294967295|C>>>9),C=x+(T^O^L)+D[1]+2763975236&4294967295,x=T+(C<<4&4294967295|C>>>28),C=L+(x^T^O)+D[4]+1272893353&4294967295,L=x+(C<<11&4294967295|C>>>21),C=O+(L^x^T)+D[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=T+(O^L^x)+D[10]+3200236656&4294967295,T=O+(C<<23&4294967295|C>>>9),C=x+(T^O^L)+D[13]+681279174&4294967295,x=T+(C<<4&4294967295|C>>>28),C=L+(x^T^O)+D[0]+3936430074&4294967295,L=x+(C<<11&4294967295|C>>>21),C=O+(L^x^T)+D[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=T+(O^L^x)+D[6]+76029189&4294967295,T=O+(C<<23&4294967295|C>>>9),C=x+(T^O^L)+D[9]+3654602809&4294967295,x=T+(C<<4&4294967295|C>>>28),C=L+(x^T^O)+D[12]+3873151461&4294967295,L=x+(C<<11&4294967295|C>>>21),C=O+(L^x^T)+D[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=T+(O^L^x)+D[2]+3299628645&4294967295,T=O+(C<<23&4294967295|C>>>9),C=x+(O^(T|~L))+D[0]+4096336452&4294967295,x=T+(C<<6&4294967295|C>>>26),C=L+(T^(x|~O))+D[7]+1126891415&4294967295,L=x+(C<<10&4294967295|C>>>22),C=O+(x^(L|~T))+D[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=T+(L^(O|~x))+D[5]+4237533241&4294967295,T=O+(C<<21&4294967295|C>>>11),C=x+(O^(T|~L))+D[12]+1700485571&4294967295,x=T+(C<<6&4294967295|C>>>26),C=L+(T^(x|~O))+D[3]+2399980690&4294967295,L=x+(C<<10&4294967295|C>>>22),C=O+(x^(L|~T))+D[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=T+(L^(O|~x))+D[1]+2240044497&4294967295,T=O+(C<<21&4294967295|C>>>11),C=x+(O^(T|~L))+D[8]+1873313359&4294967295,x=T+(C<<6&4294967295|C>>>26),C=L+(T^(x|~O))+D[15]+4264355552&4294967295,L=x+(C<<10&4294967295|C>>>22),C=O+(x^(L|~T))+D[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=T+(L^(O|~x))+D[13]+1309151649&4294967295,T=O+(C<<21&4294967295|C>>>11),C=x+(O^(T|~L))+D[4]+4149444226&4294967295,x=T+(C<<6&4294967295|C>>>26),C=L+(T^(x|~O))+D[11]+3174756917&4294967295,L=x+(C<<10&4294967295|C>>>22),C=O+(x^(L|~T))+D[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=T+(L^(O|~x))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const T=x-this.blockSize,D=this.C;let O=this.h,L=0;for(;L<x;){if(O==0)for(;L<=T;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<x;)if(D[O++]=I.charCodeAt(L++),O==this.blockSize){o(this,D),O=0;break}}else for(;L<x;)if(D[O++]=I[L++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var T=I.length-8;T<I.length;++T)I[T]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,T=0;T<4;++T)for(let D=0;D<32;D+=8)I[x++]=this.g[T]>>>D&255;return I};function u(I,x){var T=m;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=x(I)}function f(I,x){this.h=x;const T=[];let D=!0;for(let O=I.length-1;O>=0;O--){const L=I[O]|0;D&&L==x||(T[O]=L,D=!1)}this.g=T}var m={};function g(I){return-128<=I&&I<128?u(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return F(p(-I));const x=[];let T=1;for(let D=0;I>=T;D++)x[D]=I/T|0,T*=4294967296;return new f(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return F(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=p(Math.pow(x,8));let D=A;for(let L=0;L<I.length;L+=8){var O=Math.min(8,I.length-L);const C=parseInt(I.substring(L,L+O),x);O<8?(O=p(Math.pow(x,O)),D=D.j(O).add(p(C))):(D=D.j(T),D=D.add(p(C)))}return D}var A=g(0),R=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(q(this))return-F(this).m();let I=0,x=1;for(let T=0;T<this.g.length;T++){const D=this.i(T);I+=(D>=0?D:4294967296+D)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Q(this))return"0";if(q(this))return"-"+F(this).toString(I);const x=p(Math.pow(I,6));var T=this;let D="";for(;;){const O=_e(T,x).g;T=W(T,O.j(x));let L=((T.g.length>0?T.g[0]:T.h)>>>0).toString(I);if(T=O,Q(T))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Q(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function q(I){return I.h==-1}r.l=function(I){return I=W(this,I),q(I)?-1:Q(I)?0:1};function F(I){const x=I.g.length,T=[];for(let D=0;D<x;D++)T[D]=~I.g[D];return new f(T,~I.h).add(R)}r.abs=function(){return q(this)?F(this):this},r.add=function(I){const x=Math.max(this.g.length,I.g.length),T=[];let D=0;for(let O=0;O<=x;O++){let L=D+(this.i(O)&65535)+(I.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);D=C>>>16,L&=65535,C&=65535,T[O]=C<<16|L}return new f(T,T[T.length-1]&-2147483648?-1:0)};function W(I,x){return I.add(F(x))}r.j=function(I){if(Q(this)||Q(I))return A;if(q(this))return q(I)?F(this).j(F(I)):F(F(this).j(I));if(q(I))return F(this.j(F(I)));if(this.l(k)<0&&I.l(k)<0)return p(this.m()*I.m());const x=this.g.length+I.g.length,T=[];for(var D=0;D<2*x;D++)T[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<I.g.length;O++){const L=this.i(D)>>>16,C=this.i(D)&65535,et=I.i(O)>>>16,st=I.i(O)&65535;T[2*D+2*O]+=C*st,Z(T,2*D+2*O),T[2*D+2*O+1]+=L*st,Z(T,2*D+2*O+1),T[2*D+2*O+1]+=C*et,Z(T,2*D+2*O+1),T[2*D+2*O+2]+=L*et,Z(T,2*D+2*O+2)}for(I=0;I<x;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=x;I<2*x;I++)T[I]=0;return new f(T,0)};function Z(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ie(I,x){this.g=I,this.h=x}function _e(I,x){if(Q(x))throw Error("division by zero");if(Q(I))return new ie(A,A);if(q(I))return x=_e(F(I),x),new ie(F(x.g),F(x.h));if(q(x))return x=_e(I,F(x)),new ie(F(x.g),x.h);if(I.g.length>30){if(q(I)||q(x))throw Error("slowDivide_ only works with positive integers.");for(var T=R,D=x;D.l(I)<=0;)T=Ce(T),D=Ce(D);var O=Ae(T,1),L=Ae(D,1);for(D=Ae(D,2),T=Ae(T,2);!Q(D);){var C=L.add(D);C.l(I)<=0&&(O=O.add(T),L=C),D=Ae(D,1),T=Ae(T,1)}return x=W(I,O.j(x)),new ie(O,x)}for(O=A;I.l(x)>=0;){for(T=Math.max(1,Math.floor(I.m()/x.m())),D=Math.ceil(Math.log(T)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=p(T),C=L.j(x);q(C)||C.l(I)>0;)T-=D,L=p(T),C=L.j(x);Q(L)&&(L=R),O=O.add(L),I=W(I,C)}return new ie(O,I)}r.B=function(I){return _e(this,I).h},r.and=function(I){const x=Math.max(this.g.length,I.g.length),T=[];for(let D=0;D<x;D++)T[D]=this.i(D)&I.i(D);return new f(T,this.h&I.h)},r.or=function(I){const x=Math.max(this.g.length,I.g.length),T=[];for(let D=0;D<x;D++)T[D]=this.i(D)|I.i(D);return new f(T,this.h|I.h)},r.xor=function(I){const x=Math.max(this.g.length,I.g.length),T=[];for(let D=0;D<x;D++)T[D]=this.i(D)^I.i(D);return new f(T,this.h^I.h)};function Ce(I){const x=I.g.length+1,T=[];for(let D=0;D<x;D++)T[D]=I.i(D)<<1|I.i(D-1)>>>31;return new f(T,I.h)}function Ae(I,x){const T=x>>5;x%=32;const D=I.g.length-T,O=[];for(let L=0;L<D;L++)O[L]=x>0?I.i(L+T)>>>x|I.i(L+T+1)<<32-x:I.i(L+T);return new f(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,rs=f}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zb,Hl,Bb,yh,Ym,qb,Hb,Fb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in v))break e;v=v[U]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function A(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,U,G){for(var re=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)re[Se-2]=arguments[Se];return y.prototype[U].apply(w,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function Q(c,y){for(let w=1;w<arguments.length;w++){const U=arguments[w];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const G=U.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=U[re]}else c.push(U)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function W(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,v){const w=ie.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new q(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Ae=!1,I=new Z,x=()=>{const c=Promise.resolve(void 0);Ce=()=>{c.then(T)}};function T(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){F(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ae=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function et(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}A(et,O),et.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,y,v,w,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=U,this.key=++Y,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function qe(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(v in w)c[v]=w[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,w,U){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Re(c,y,w,U);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!w,U),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var w=c.g[v],U=Array.prototype.indexOf.call(w,y,void 0),G;(G=U>=0)&&Array.prototype.splice.call(w,U,1),G&&(fe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,y,v,w){for(let U=0;U<c.length;++U){const G=c[U];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==w)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function at(c,y,v,w,U){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,w,U);return null}return v=ko(v),c&&c[st]?c.J(y,v,m(w)?!!w.capture:!1,U):ys(c,y,v,!1,w,U)}function ys(c,y,v,w,U,G){if(!y)throw Error("Invalid event type");const re=m(U)?!!U.capture:!!U;let Se=_s(c);if(Se||(c[Ue]=Se=new ue(c)),v=Se.add(y,v,w,re,G),v.proxy)return v;if(w=ha(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)L||(U=re),U===void 0&&(U=!1),c.addEventListener(y.toString(),w,U);else if(c.attachEvent)c.attachEvent(si(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ha(){function c(v){return y.call(c.src,c.listener,v)}const y=Mo;return c}function fa(c,y,v,w,U){if(Array.isArray(y))for(var G=0;G<y.length;G++)fa(c,y[G],v,w,U);else w=m(w)?!!w.capture:!!w,v=ko(v),c&&c[st]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Re(y,v,w,U),v>-1&&(fe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=_s(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,v,w,U)),(v=c>-1?y[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[st])ve(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(si(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=_s(y))?(ve(v,c),v.h==0&&(v.src=null,y[Ue]=null)):fe(c)}}}function si(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Mo(c,y){if(c.da)c=!0;else{y=new et(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&da(c),c=v.call(w,y)}return c}function _s(c){return c=c[Ue],c instanceof ue?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function vt(){D.call(this),this.i=new ue(this),this.M=this,this.G=null}A(vt,D),vt.prototype[st]=!0,vt.prototype.removeEventListener=function(c,y,v,w){fa(this,c,y,v,w)};function Ot(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var U=y;y=new O(w,c),ae(y,U)}U=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],U=mr(G,w,!0,y)&&U;if(G=y.g=c,U=mr(G,w,!0,y)&&U,U=mr(G,w,!1,y)&&U,v)for(re=0;re<v.length;re++)G=y.g=v[re],U=mr(G,w,!1,y)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)fe(v[w]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},vt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function mr(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const Se=re.listener,mt=re.ha||re.src;re.fa&&ve(c.i,re),U=Se.call(mt,w)!==!1&&U}}return U&&!w.defaultPrevented}function pf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Cu(c){c.g=pf(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends D{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){D.call(this),this.h=c,this.g={}}A(vs,D);var Lo=[];function Po(c){De(c.g,function(y,v){this.g.hasOwnProperty(v)&&da(y)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Po(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=f.JSON.stringify,gf=f.JSON.parse,Iu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Nu(){}function Du(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}A(zt,O);function Sn(){O.call(this,"c")}A(Sn,O);var dt={},Ou=null;function ma(){return Ou=Ou||new vt}dt.Ia="serverreachability";function Mu(c){O.call(this,dt.Ia,c)}A(Mu,O);function ai(c){const y=ma();Ot(y,new Mu(y))}dt.STAT_EVENT="statevent";function Es(c,y){O.call(this,dt.STAT_EVENT,c),this.stat=y}A(Es,O);function Et(c){const y=ma();Ot(y,new Es(y,c))}dt.Ja="timingevent";function oi(c,y){O.call(this,dt.Ja,c),this.size=y}A(oi,O);function li(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function yf(c,y,v,w,U,G){c.info(function(){if(c.g)if(G){var re="",Se=G.split("&");for(let He=0;He<Se.length;He++){var mt=Se[He].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Cn=ot.split("_");re=Cn.length>=2&&Cn[1]=="type"?re+(ot+"="+mt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+y+`
`+v+`
`+re})}function Vu(c,y,v,w,U,G,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+y+`
`+v+`
`+G+" "+re})}function ui(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_f(c,v)+(w?" "+w:"")})}function bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function _f(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return pr(G)}catch{return y}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function As(){}A(As,Nu),As.prototype.g=function(){return new XMLHttpRequest},jo=new As;function ki(c){return encodeURIComponent(String(c))}function ku(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function ci(c,y,v){c.M=1,c.A=Ss(At(y)),c.u=v,c.R=!0,pa(c,null)}function pa(c,y){c.F=Date.now(),hi(c),c.B=At(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),va(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Gn,c.g=Xu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Lo[0]=U.toString()),U=Lo);for(let G=0;G<U.length;G++){const re=at(v,U[G],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ai(),yf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Yn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||mt==7||(mt==8||He<=0?ai(3):ai(2)),fi(this);var y=this.g.ca();this.X=y;var v=vf(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var G=w;break t}}G=null}if(c=G)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Et(12),dn(this),wn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Pu(this,v),ot==Lt){Se==4&&(this.m=4,Et(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==bt){this.m=4,Et(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(re),re.P=!0,Et(11))}}else ui(this.i,this.l,v,null),di(this,v);Se==4&&dn(this),this.o&&!this.K&&(Se==4?Ku(this.j,this):(this.o=!1,hi(this)))}else Pi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),dn(this),wn(this)}}}catch{}};function vf(c){if(!Lu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const w=y.length,U=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<w;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(U&&G==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Lt:(v=Number(y.substring(v,w)),isNaN(v)?bt:(w+=1,w+v>y.length?Lt:(y=y.slice(w,w+v),c.C=w+v,y)))}Fn.prototype.cancel=function(){this.K=!0,dn(this)};function hi(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(p(c.aa,c),y)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(ai(),Et(17)),dn(this),this.m=2,wn(this)):ga(this,this.T-c)};function wn(c){c.j.I==0||c.K||Ku(c.j,c)}function dn(c){fi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Po(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function di(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Sa(v),Ar(v);else break e;Ds(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(p(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&Sa(v),!C(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let He=U[y];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Cn=He[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Ti=He[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const $n=He[5];$n!=null&&typeof $n=="number"&&$n>0&&(w=1.5*$n,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Xn=c.g;if(Xn){const Os=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var G=w.h;G.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(qo(G,G.h),G.h=null))}if(w.G){const wa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(w.wa=wa,Ke(w.J,w.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var re=c;if(w.na=$u(w,w.L?w.ba:null,w.W),re.L){Ho(w.h,re);var Se=re,mt=w.O;mt&&(Se.H=mt),Se.D&&(fi(Se),hi(Se)),w.g=re}else Fu(w);v.i.length>0&&Ei(v)}else He[0]!="stop"&&He[0]!="close"||bi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?bi(v,7):Wo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ai(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qo(c,y){c.g?c.g.add(y):c.h=y}function Ho(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let U,G=null;w>=0?(U=c[v].substring(0,w),G=c[v].substring(w+1)):U=c[v],y(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof mn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.u),this.h=c.h,Go(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(Uu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=gi(y[2]||""),this.g=gi(y[3]||"",!0),gr(this,y[4]),this.h=gi(y[5]||"",!0),Go(this,y[6]||"",!0),this.m=gi(y[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}mn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ws(y,_a,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ws(y,_a,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?Ko:ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,zu)),c.join("")},mn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)gr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=y.h.lastIndexOf("/");U!=-1&&(w=y.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let re=0;re<U.length;){const Se=U[re++];Se=="."?w&&re==U.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&re==U.length&&G.push("")):(G.push(Se),w=!0)}w=G.join("/")}else w=U}return v?y.h=w:v=c.i.toString()!=="",v?Go(y,qu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new mn(c)}function Pt(c,y,v){c.j=v?gi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Go(c,y,v){y instanceof _r?(c.i=y,Ea(c.i,c.l)):(v||(y=ws(y,yr)),c.i=new _r(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Ss(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,ju=/[#\?:]/g,Ko=/[#\?]/g,yr=/[#\?@]/g,zu=/#/g;function _r(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=_r.prototype,r.add=function(c,y){sn(this),this.i=null,c=vr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Bu(c,y){sn(c),y=vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return sn(c),y=vr(c,y),c.g.has(y)}r.forEach=function(c,y){sn(this),this.g.forEach(function(v,w){v.forEach(function(U){c.call(y,U,w,this)},this)},this)};function Yo(c,y){sn(c);let v=[];if(typeof y=="string")Qo(c,y)&&(v=v.concat(c.g.get(vr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return sn(this),this.i=null,c=vr(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Yo(this,c),c.length>0?String(c[0]):y):y};function va(c,y,v){Bu(c,y),v.length>0&&(c.i=null,c.g.set(vr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const U=ki(v);v=Yo(this,v);for(let G=0;G<v.length;G++){let re=U;v[G]!==""&&(re+="="+ki(v[G])),c.push(re)}}return this.i=c.join("&")};function qu(c){const y=new _r;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ea(c,y){y&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,w){const U=w.toLowerCase();w!=U&&(Bu(this,w),va(this,U,v))},c)),c.j=y}function Kn(c,y){const v=new Hn;if(f.Image){const w=new Image;w.onload=E(Rn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Rn,v,"TestLoadImage: error",!1,y,w),w.onabort=E(Rn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function $o(c,y){const v=new Hn,w=new AbortController,U=setTimeout(()=>{w.abort(),Rn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(U),G.ok?Rn(v,"TestPingServer: ok",!0,y):Rn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,y)})}function Rn(c,y,v,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(v)}catch{}}function Er(){this.g=new Iu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(yi,Nu),yi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Rs,vt),r=Rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?br(this):Qn(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let y="";return De(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function xs(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=xn(v),typeof c=="string"?v!=null&&ki(v):Ke(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($e,vt);var _i=/^https?$/i,Xo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Cs(this,G);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)v.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())v.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Xo,y,void 0)>=0)||w||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Cs(this,G)}};function Cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Jo(c),Li(c)}function Jo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},r.Xa=function(){Is(this)};function Is(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=G===0){let re=String(c.D).match(Uu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),w=!_i.test(re?re.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var U=Yn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Jo(c)}}finally{Li(c)}}}}function Li(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var v=ku(c[w]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[U]||[];y[U]=G,G.push(v)}qe(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Tr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(c&&c.concurrentRequestLimit),this.Ba=new Er,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Tr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,w){Et(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=$u(this,null,this.W),Ei(this)};function Wo(c){if(Ta(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Ns(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=Ss(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hi(y)}Yu(c)}function Ar(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function Ta(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Bo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ce||x(),Ae||(Ce(),Ae=!0),I.add(y,c),c.D=0}}function Aa(c,y){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(p(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Fn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,U,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ns(this,v),G&&(this.R?y="headers="+ki(xn(G))+"&"+y:this.u&&xs(v,this.u,G)),qo(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,y),this.I=2}}else this.I==3&&(c?Zo(this,c):this.i.length==0||Bo(this.h)||Zo(this))};function Zo(c,y){var v;y?v=y.l:v=c.V++;const w=At(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),Ns(c,w),c.u&&c.o&&xs(w,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Hu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,v),ci(v,w,y)}function Ns(c,y){c.H&&De(c.H,function(v,w){Ke(y,w,v)}),c.l&&De({},function(v,w){Ke(y,w,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var U=c.i;let Se=-1;for(;;){const mt=["count="+v];Se==-1?v>0?(Se=U[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let He=!0;for(let ot=0;ot<v;ot++){var G=U[ot].g;const Cn=U[ot].map;if(G-=Se,G<0)Se=Math.max(0,U[ot].g-100),He=!1;else try{G="req"+G+"_"||"";try{var re=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ti,$n]of re){let Xn=$n;m($n)&&(Xn=pr($n)),mt.push(G+Ti+"="+encodeURIComponent(Xn))}}catch(Ti){throw mt.push(G+"type="+encodeURIComponent("_badmap")),Ti}}catch{w&&w(Cn)}}if(He){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Fu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ce||x(),Ae||(Ce(),Ae=!0),I.add(y,c),c.A=0}}function Ds(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(p(c.Da,c),Qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ar(this),Gu(this))};function el(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Gu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ns(c,y),c.u&&c.o&&xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ss(At(y)),v.u=null,v.R=!0,pa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Ds(this),Et(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){Sa(c),el(c),c.g=null;var w=2}else if(pi(c.h,y))v=y.G,Ho(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;w=ma(),Ot(w,new oi(w,v)),Ei(c)}else Fu(c);else if(U=y.m,U==3||U==0&&y.X>0||!(w==1&&Aa(c,y)||w==2&&Ds(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),w=c.Ua;const U=!w;w=new mn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(w,"https"),Ss(w),U?Kn(w.toString(),v):$o(w.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),Yu(c),Ta(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function $u(c,y,v){var w=v instanceof mn?At(v):new mn(v);if(w.g!="")y&&(w.g=y+"."+w.g),gr(w,w.u);else{var U=f.location;w=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const G=new mn(null);w&&Pt(G,w),y&&(G.g=y),U&&gr(G,U),v&&(G.h=v),w=G}return v=c.G,y=c.wa,v&&y&&Ke(w,v,y),Ke(w,"VER",c.ka),Ns(c,w),w}function Xu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new yi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){vt.call(this),this.g=new Tr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ui(this)}A(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Wo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pr(c),c=v);y.i.push(new Tt(y.Ya++,c)),y.I==3&&Ei(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,tn.Z.N.call(this)};function Wu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(Wu,zt);function Zu(){Sn.call(this),this.status=1}A(Zu,Sn);function Ui(c){this.g=c}A(Ui,Ju),Ui.prototype.ra=function(){Ot(this.g,"a")},Ui.prototype.qa=function(c){Ot(this.g,new Wu(c))},Ui.prototype.pa=function(c){Ot(this.g,new Zu)},Ui.prototype.oa=function(){Ot(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Fb=function(){return new Sr},Hb=function(){return ma()},qb=dt,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,yh=Ts,Uo.COMPLETE="complete",Bb=Uo,Du.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Hl=Du,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,zb=$e}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Co="12.8.0";function qI(r){Co=r}const ia=new vp("@firebase/firestore");function to(){return ia.logLevel}function le(r,...e){if(ia.logLevel<=Ve.DEBUG){const n=e.map(Np);ia.debug(`Firestore (${Co}): ${r}`,...n)}}function ur(r,...e){if(ia.logLevel<=Ve.ERROR){const n=e.map(Np);ia.error(`Firestore (${Co}): ${r}`,...n)}}function po(r,...e){if(ia.logLevel<=Ve.WARN){const n=e.map(Np);ia.warn(`Firestore (${Co}): ${r}`,...n)}}function Np(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Gb(r,s,n)}function Gb(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Gb(e,o,s)}function Te(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Kb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class FI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Js,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Js)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Kb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class KI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class QI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new SE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $I(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$I(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function $m(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Nm(o)===Nm(u)?ke(o,u):Nm(o)?1:-1}return ke(r.length,e.length)}const XI=55296,JI=57343;function Nm(r){const e=r.charCodeAt(0);return e>=XI&&e<=JI}function go(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const wE="__name__";class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=xi.isNumericId(e),o=xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class tt extends xi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const WI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends xi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return WI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new Qt([wE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function Qb(r,e,n){if(!n)throw new oe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ZI(r,e,n,s){if(e===!0&&s===!0)throw new oe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function RE(r){if(!me.isDocumentKey(r))throw new oe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xE(r){if(me.isDocumentKey(r))throw new oe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Yb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function rr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(r);throw new oe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Tu(r,e){if(!Yb(r))throw new oe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(te.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,IE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*IE);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new oe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Nt("string",nt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new nt(0,0))}static max(){return new Ee(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function e2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new as(o,me.empty(),e)}function t2(r){return new as(r.readTime,r.key,ru)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Ee.min(),me.empty(),ru)}static max(){return new as(Ee.max(),me.empty(),ru)}}function n2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}const i2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==i2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function s2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;const Op=-1;function Zh(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function a2(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const $b="";function o2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=NE(e)),e=l2(r.get(n),e);return NE(e)}function l2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case $b:n+="";break;default:n+=u}}return n}function NE(r){return r+$b+""}function DE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Xb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Vt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Jb("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const u2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=u2.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const Wb="server_timestamp",Zb="__type__",eT="__previous_value__",tT="__local_write_time__";function Mp(r){return(r?.mapValue?.fields||{})[Zb]?.stringValue===Wb}function ef(r){const e=r.mapValue.fields[eT];return Mp(e)?ef(e):e}function su(r){const e=os(r.mapValue.fields[tT].timestampValue);return new nt(e.seconds,e.nanos)}class c2{constructor(e,n,s,o,u,f,m,g,p,E,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=A}}const Vh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}function h2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(r.options.projectId,e)}const nT="__type__",f2="__max__",oh={mapValue:{}},iT="__vector__",kh="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mp(r)?4:m2(r)?9007199254740991:d2(r)?10:11:ye(28295,{value:r})}function Mi(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?Mh(f)===Mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(DE(f)!==DE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Mi(f[g],m[g])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function ou(r,e){return(r.values||[]).find((n=>Mi(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),g=yt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return ME(r.timestampValue,e.timestampValue);case 4:return ME(su(r),su(e));case 5:return $m(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ls(u),g=ls(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=ke(m[p],g[p]);if(E!==0)return E}return ke(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ke(yt(u.latitude),yt(f.latitude));return m!==0?m:ke(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return VE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[kh]?.arrayValue,E=g[kh]?.arrayValue,A=ke(p?.values?.length||0,E?.values?.length||0);return A!==0?A:VE(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===oh.mapValue&&f===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(f===oh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const R=$m(g[A],E[A]);if(R!==0)return R;const k=yo(m[g[A]],p[E[A]]);if(k!==0)return k}return ke(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function ME(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=os(r),s=os(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function VE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function _o(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function _h(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+_h(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ps(s.fields,((u,f)=>{o+=u.length+_h(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function kE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jm(r){return!!r&&"integerValue"in r}function Vp(r){return!!r&&"arrayValue"in r}function LE(r){return!!r&&"nullValue"in r}function PE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function d2(r){return(r?.mapValue?.fields||{})[nT]?.stringValue===iT}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return{...r}}function m2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===f2}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ps(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new fn(Xl(this.value))}}function rT(r){const e=[];return ps(r.fields,((n,s)=>{const o=new Qt([n]);if(vh(s)){const u=rT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Tn(e)}class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ee.min(),Ee.min(),Ee.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ee.min(),Ee.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ee.min(),Ee.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function UE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function jE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],e.position[n]))return!1;return!0}class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function p2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class sT{}class It extends sT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new y2(e,n,s):n==="array-contains"?new E2(e,s):n==="in"?new b2(e,s):n==="not-in"?new T2(e,s):n==="array-contains-any"?new A2(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _2(e,s):new v2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends sT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return aT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(r){return r.op==="and"}function oT(r){return g2(r)&&aT(r)}function g2(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Wm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(oT(r))return r.filters.map((e=>Wm(e))).join(",");{const e=r.filters.map((n=>Wm(n))).join(",");return`${r.op}(${e})`}}function lT(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&lT(f,o.filters[m])),!0):!1})(r,e):void ye(19439)}function uT(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(uT).join(" ,")+"}"})(r):"Filter"}class y2 extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class _2 extends It{constructor(e,n){super(e,"in",n),this.keys=cT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class v2 extends It{constructor(e,n){super(e,"not-in",n),this.keys=cT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cT(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class E2 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vp(n)&&ou(n.arrayValue,this.value)}}class b2 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class T2 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class A2 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ou(this.value.arrayValue,s)))}}class S2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function zE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new S2(r,e,n,s,o,u,f)}function kp(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Wm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Lp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!p2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!lT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jE(r.startAt,e.startAt)&&jE(r.endAt,e.endAt)}function Zm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w2(r,e,n,s,o,u,f,m){return new Do(r,e,n,s,o,u,f,m)}function Pp(r){return new Do(r)}function BE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function R2(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function hT(r){return r.collectionGroup!==null}function Jl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Qt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new lu(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new lu(Qt.keyField(),s))}return e.Ie}function Ni(r){const e=Te(r);return e.Ee||(e.Ee=x2(e,Jl(r))),e.Ee}function x2(r,e){if(r.limitType==="F")return zE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lu(o.field,u)}));const n=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return zE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ep(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function C2(r,e){const n=r.explicitOrderBy.concat([e]);return new Do(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function tp(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function tf(r,e){return Lp(Ni(r),Ni(e))&&r.limitType===e.limitType}function fT(r){return`${kp(Ni(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>uT(o))).join(", ")}]`),Zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function nf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=UE(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(f,m,g){const p=UE(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Jl(s),o))})(r,e)}function I2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dT(r){return(e,n)=>{let s=!1;for(const o of Jl(r)){const u=N2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function N2(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?yo(g,p):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Xb(this.inner)}size(){return this.innerSize}}const D2=new ct(me.comparator);function cr(){return D2}const mT=new ct(me.comparator);function Fl(...r){let e=mT;for(const n of r)e=e.insert(n.key,n);return e}function pT(r){let e=mT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Wl()}function gT(){return Wl()}function Wl(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const O2=new ct(me.comparator),M2=new Vt(me.comparator);function Le(...r){let e=M2;for(const n of r)e=e.add(n);return e}const V2=new Vt(ke);function k2(){return V2}function Up(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function yT(r){return{integerValue:""+r}}function L2(r,e){return a2(e)?yT(e):Up(r,e)}class rf{constructor(){this._=void 0}}function P2(r,e,n){return r instanceof uu?(function(o,u){const f={fields:{[Zb]:{stringValue:Wb},[tT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mp(u)&&(u=ef(u)),u&&(f.fields[eT]=u),{mapValue:f}})(n,e):r instanceof cu?vT(r,e):r instanceof hu?ET(r,e):(function(o,u){const f=_T(o,u),m=qE(f)+qE(o.Ae);return Jm(f)&&Jm(o.Ae)?yT(m):Up(o.serializer,m)})(r,e)}function U2(r,e,n){return r instanceof cu?vT(r,e):r instanceof hu?ET(r,e):n}function _T(r,e){return r instanceof Ph?(function(s){return Jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class uu extends rf{}class cu extends rf{constructor(e){super(),this.elements=e}}function vT(r,e){const n=bT(e);for(const s of r.elements)n.some((o=>Mi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hu extends rf{constructor(e){super(),this.elements=e}}function ET(r,e){let n=bT(e);for(const s of r.elements)n=n.filter((o=>!Mi(o,s)));return{arrayValue:{values:n}}}class Ph extends rf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qE(r){return yt(r.integerValue||r.doubleValue)}function bT(r){return Vp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class j2{constructor(e,n){this.field=e,this.transform=n}}function z2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof cu&&o instanceof cu||s instanceof hu&&o instanceof hu?go(s.elements,o.elements,Mi):s instanceof Ph&&o instanceof Ph?Mi(s.Ae,o.Ae):s instanceof uu&&o instanceof uu})(r.transform,e.transform)}class B2{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class sf{}function TT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ST(r.key,ti.none()):new Au(r.key,r.data,ti.none());{const n=r.data,s=fn.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new gs(r.key,s,new Tn(o.toArray()),ti.none())}}function q2(r,e,n){r instanceof Au?(function(o,u,f){const m=o.value.clone(),g=FE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof gs?(function(o,u,f){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=FE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(AT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Zl(r,e,n,s){return r instanceof Au?(function(u,f,m,g){if(!Eh(u.precondition,f))return m;const p=u.value.clone(),E=GE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof gs?(function(u,f,m,g){if(!Eh(u.precondition,f))return m;const p=GE(u.fieldTransforms,g,f),E=f.data;return E.setAll(AT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,m){return Eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function H2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=_T(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function HE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,f)=>z2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Au extends sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function FE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,U2(f,m,n[o]))}return s}function GE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,P2(u,f,e))}return s}class ST extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F2 extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&q2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=TT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>HE(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>HE(n,s)))}}class jp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return O2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new jp(e,n,s,o)}}class K2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,je;function Y2(r){switch(r){case te.OK:return ye(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function wT(r){if(r===void 0)return ur("GRPC error has no .code"),te.UNKNOWN;switch(r){case Ct.OK:return te.OK;case Ct.CANCELLED:return te.CANCELLED;case Ct.UNKNOWN:return te.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return te.INTERNAL;case Ct.UNAVAILABLE:return te.UNAVAILABLE;case Ct.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ct.NOT_FOUND:return te.NOT_FOUND;case Ct.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ct.ABORTED:return te.ABORTED;case Ct.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ct.DATA_LOSS:return te.DATA_LOSS;default:return ye(39323,{code:r})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function $2(){return new TextEncoder}const X2=new rs([4294967295,4294967295],0);function KE(r){const e=$2().encode(r),n=new jb;return n.update(e),new Uint8Array(n.digest())}function QE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(X2)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=KE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(Ee.min(),o,new ct(ke),cr(),Le())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,Le(),Le(),Le())}}class bh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class RT{constructor(e,n){this.targetId=e,this.Ce=n}}class xT{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class YE{constructor(){this.ve=0,this.Fe=$E(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Su(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=$E()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class J2{constructor(e){this.Ge=e,this.ze=new Map,this.je=cr(),this.He=lh(),this.Je=lh(),this.Ze=new ct(ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zm(u))if(s===0){const f=new me(u.path);this.et(n,f,Wt.newNoDocument(f,Ee.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(g){if(g instanceof Jb)return po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new zp(f,o,u)}catch(g){return po(g instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Zm(m.target)){const g=new me(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Le();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new af(e,n,this.Ze,this.je,s);return this.je=cr(),this.He=lh(),this.Je=lh(),this.Ze=new ct(ke),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new ct(me.comparator)}function $E(){return new ct(me.comparator)}const W2={asc:"ASCENDING",desc:"DESCENDING"},Z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eN={and:"AND",or:"OR"};class tN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(r,e){return r.useProto3Json||Zh(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nN(r,e){return Uh(r,e.toTimestamp())}function Di(r){return Ge(!!r,49232),Ee.fromTimestamp((function(n){const s=os(n);return new nt(s.seconds,s.nanos)})(r))}function Bp(r,e){return ip(r,e).canonicalString()}function ip(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function IT(r){const e=tt.fromString(r);return Ge(VT(e),10190,{key:e.toString()}),e}function rp(r,e){return Bp(r.databaseId,e.path)}function Dm(r,e){const n=IT(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(DT(n))}function NT(r,e){return Bp(r.databaseId,e)}function iN(r){const e=IT(r);return e.length===4?tt.emptyPath():DT(e)}function sp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DT(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function XE(r,e,n){return{name:rp(r,e),fields:n.value.mapValue.fields}}function rN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?te.UNKNOWN:wT(p.code);return new oe(E,p.message||"")})(f);n=new xT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(r,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):Ee.min(),m=new fn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new bh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(r,s.document),u=s.readTime?Di(s.readTime):Ee.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new bh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(r,s.document),u=s.removedTargetIds||[];n=new bh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Q2(o,u),m=s.targetId;n=new RT(m,f)}}return n}function sN(r,e){let n;if(e instanceof Au)n={update:XE(r,e.key,e.value)};else if(e instanceof ST)n={delete:rp(r,e.key)};else if(e instanceof gs)n={update:XE(r,e.key,e.data),updateMask:mN(e.fieldMask)};else{if(!(e instanceof F2))return ye(16599,{dt:e.type});n={verify:rp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof uu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:nN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function aN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(Ee.min())&&(f=Di(u)),new B2(f,o.transformResults||[])})(n,e)))):[]}function oN(r,e){return{documents:[NT(r,e.path)]}}function lN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,o);const u=(function(p){if(p.length!==0)return MT(ri.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(R){return{field:io(R.field),direction:hN(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=np(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function uN(r){let e=iN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const R=OT(A);return R instanceof ri&&oT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((R=>(function(Q){return new lu(ro(Q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,Zh(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(A){const R=!!A.before,k=A.values||[];return new Lh(k,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(A){const R=!A.before,k=A.values||[];return new Lh(k,R)})(n.endAt)),w2(e,o,f,u,m,"F",g,p)}function cN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>OT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function hN(r){return W2[r]}function fN(r){return Z2[r]}function dN(r){return eN[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Qt.fromServerFormat(r.fieldPath)}function MT(r){return r instanceof It?(function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(LE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(LE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:fN(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>MT(o)));return s.length===1?s[0]:{compositeFilter:{op:dN(n.op),filters:s}}})(r):ye(54877,{filter:r})}function mN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function kT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class es{constructor(e,n,s,o,u=Ee.min(),f=Ee.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pN{constructor(e){this.yt=e}}function gN(r){const e=uN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tp(e,e.limit,"L"):e}class yN{constructor(){this.Sn=new _N}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(as.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class _N{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(LT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vo(0)}static ar(){return new vo(-1)}}const WE="LruGarbageCollector",vN=1048576;function ZE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class EN{constructor(e){this.Pr=e,this.buffer=new Vt(ZE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ZE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(WE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(WE,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Ar(3e5)}))}}class TN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Wh.ce);const s=new EN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(JE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(p=Date.now(),to()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function AN(r,e){return new TN(r,e)}class SN{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class RN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Zl(s.mutation,o,Tn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Fl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=cr();const f=Wl(),m=(function(){return Wl()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof gs)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Zl(E.mutation,p,E.mutation.getFieldMask(),nt.now())):f.set(p.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new wN(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new ct(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Tn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const A=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,A=gT();E.forEach((R=>{if(!u.has(R)){const k=TT(n.get(R),s.get(R));k!==null&&A.set(R,k),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,A))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return R2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Xs());let m=ru,g=u;return f.next((p=>ne.forEach(p,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Le()))).next((E=>({batchId:m,changes:pT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(A,R){return new Do(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Fl();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Zl(E.mutation,p,Tn.empty(),nt.now()),nf(n,p)&&(m=m.insert(g,p))})),m}))}}class xN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:gN(o.bundledQuery),readTime:Di(o.readTime)}})(n)),ne.resolve()}}class CN{constructor(){this.overlays=new ct(me.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Xs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Xs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new K2(n,s));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class IN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class qp{constructor(){this.kr=new Vt(jt.Kr),this.qr=new Vt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Le();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||ke(e.Hr,n.Hr)}static Ur(e,n){return ke(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class NN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(jt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new G2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Op:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(ke);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new jt(new me(u),0);let m=new Vt(ke);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),f),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new jt(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DN{constructor(e){this.ti=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=cr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=cr();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||n2(t2(E),s)<=0||(o.has(E.key)||nf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new ON(this)}getSize(e){return ne.resolve(this.size)}}class ON extends SN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class MN{constructor(e){this.persistence=e,this.ri=new oa((n=>kp(n)),Lp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new qp,this.targetCount=0,this.oi=vo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class PT{constructor(e,n){this._i={},this.overlays={},this.ai=new Wh(0),this.ui=!1,this.ui=!0,this.ci=new IN,this.referenceDelegate=e(this),this.li=new MN(this),this.indexManager=new yN,this.remoteDocumentCache=(function(o){return new DN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new pN(n),this.Pi=new xN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new NN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new VN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class VN extends r2{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Ri=new qp,this.Ai=null}static Vi(e){return new Hp(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.fi=new oa((s=>o2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=AN(this,n)}static Vi(e,n){return new jh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fp(e,n.fromCache,s,o)}}class kN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uR()?8:s2(Zt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new kN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(to()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(to()<=Ve.DEBUG&&le("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(to()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):ne.resolve())}gs(e,n){if(BE(n))return ne.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tp(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,f,g.readTime)?this.gs(e,tp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return BE(n)||o.isEqual(Ee.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ne.resolve(null):(to()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.Ds(e,f,n,e2(o,ru)).next((m=>m)))}))}bs(e,n){let s=new Vt(dT(e));return n.forEach(((o,u)=>{nf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return to()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",no(n)),this.fs.getDocumentsMatchingQuery(e,n,as.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Gp="LocalStore",PN=3e8;class UN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(ke),this.Fs=new oa((u=>kp(u)),Lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function jN(r,e,n,s){return new UN(r,e,n,s)}async function UT(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Le();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function zN(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const A=p.batch,R=A.keys();let k=ne.resolve();return R.forEach((Q=>{k=k.next((()=>E.getEntry(g,Q))).next((q=>{const F=p.docVersions.get(Q);Ge(F!==null,48541),q.version.compareTo(F)<0&&(A.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),E.addEntry(q)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function jT(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function BN(r,e){const n=Te(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,A))));let k=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(A,k),(function(q,F,W){return q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=PN?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(R,k,E)&&m.push(n.li.updateTargetData(u,k))}));let g=cr(),p=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(qN(u,f,e.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!s.isEqual(Ee.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function qN(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=cr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Gp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function HN(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function FN(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function ap(r,e,n){const s=Te(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;le(Gp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function e0(r,e,n){const s=Te(r);let o=Ee.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const A=Te(g),R=A.Fs.get(E);return R!==void 0?ne.resolve(A.vs.get(R)):A.li.getTargetData(p,E)})(s,f,Ni(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Ee.min(),n?u:Le()))).next((m=>(GN(s,I2(e),m),{documents:m,ks:u})))))}function GN(r,e,n){let s=r.Ms.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class t0{constructor(){this.activeTargetIds=k2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KN{constructor(){this.vo=new t0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new t0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QN{Mo(e){}shutdown(){}}const n0="ConnectivityMonitor";class i0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(n0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(n0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function op(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const Om="RestConnection",YN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $N{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=op(),m=this.Qo(e,n.toUriEncodedString());le(Om,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),E=wo(p);return this.zo(e,m,g,s,E).then((A=>(le(Om,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw po(Om,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=YN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class XN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",zl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends $N{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=Hb();zl(e,qb.STAT_EVENT,(n=>{n.stat===Ym.PROXY?le(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===Ym.NOPROXY&&le(Xt,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,s,o,u){const f=op();return new Promise(((m,g)=>{const p=new zb;p.setWithCredentials(!0),p.listenOnce(Bb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const A=p.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case yh.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),g(new oe(te.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const R=p.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",p.getResponseText()),R>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const q=(function(W){const Z=W.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Z)>=0?Z:te.UNKNOWN})(Q.status);g(new oe(q,Q.message))}else g(new oe(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new oe(te.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=op(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${p}`,m);const E=f.createWebChannel(p,m);this.I_(E);let A=!1,R=!1;const k=new XN({Ho:Q=>{R?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(A||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,Q),E.send(Q))},Jo:()=>E.close()});return zl(E,Hl.EventType.OPEN,(()=>{R||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),zl(E,Hl.EventType.CLOSE,(()=>{R||(R=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),zl(E,Hl.EventType.ERROR,(Q=>{R||(R=!0,po(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),k.o_(new oe(te.UNAVAILABLE,"The operation could not be completed")))})),zl(E,Hl.EventType.MESSAGE,(Q=>{if(!R){const q=Q.data[0];Ge(!!q,16349);const F=q,W=F?.error||F[0]?.error;if(W){le(Xt,`RPC '${e}' stream ${o} received error:`,W);const Z=W.status;let ie=(function(Ae){const I=Ct[Ae];if(I!==void 0)return wT(I)})(Z),_e=W.message;ie===void 0&&(ie=te.INTERNAL,_e="Unknown error status: "+Z+" with message "+W.message),R=!0,k.o_(new oe(ie,_e)),E.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,q),k.__(q)}})),co.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Fb()}}function JN(r){return new co(r)}function Mm(){return typeof document<"u"?document:null}function of(r){return new tN(r,!0)}co.c_=!1;class zT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const r0="PersistentStream";class BT{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WN extends BT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?Di(f.readTime):Ee.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Zm(g)?{documents:oN(u,g)}:{query:lN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CT(u,f.resumeToken);const p=np(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const p=np(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=cN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.K_(n)}}class ZN extends BT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aN(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>sN(this.serializer,s)))};this.K_(n)}}class eD{}class tD extends eD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,ip(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(te.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,ip(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nD(r,e,n,s){return new tD(r,e,n,s)}class iD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class rD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{la(this)&&(le(ra,"Restarting streams for network reachability change."),await(async function(g){const p=Te(g);p.Ea.add(4),await wu(p),p.Va.set("Unknown"),p.Ea.delete(4),await lf(p)})(this))}))})),this.Va=new iD(s,o)}}async function lf(r){if(la(r))for(const e of r.Ra)await e(!0)}async function wu(r){for(const e of r.Ra)await e(!1)}function qT(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?Yp(n):Oo(n).O_()&&Qp(n,e))}function Kp(r,e){const n=Te(r),s=Oo(n);n.Ia.delete(e),s.O_()&&HT(n,e),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Va.set("Unknown"))}function Qp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Z_(e)}function HT(r,e){r.da.$e(e),Oo(r).X_(e)}function Yp(r){r.da=new J2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Va.ua()}function $p(r){return la(r)&&!Oo(r).x_()&&r.Ia.size>0}function la(r){return Te(r).Ea.size===0}function FT(r){r.da=void 0}async function sD(r){r.Va.set("Online")}async function aD(r){r.Ia.forEach(((e,n)=>{Qp(r,e)}))}async function oD(r,e){FT(r),$p(r)?(r.Va.ha(e),Yp(r)):r.Va.set("Unknown")}async function lD(r,e,n){if(r.Va.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){le(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof bh?r.da.Xe(e):e instanceof RT?r.da.st(e):r.da.tt(e),!n.isEqual(Ee.min()))try{const s=await jT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),HT(u,g);const A=new es(E.target,g,p,E.sequenceNumber);Qp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ra,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await wu(r),r.Va.set("Offline"),n||(n=()=>jT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await lf(r)}))}function GT(r,e){return e().catch((n=>zh(r,n,e)))}async function uf(r){const e=Te(r),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Op;for(;uD(e);)try{const o=await HN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,cD(e,o)}catch(o){await zh(e,o)}KT(e)&&QT(e)}function uD(r){return la(r)&&r.Ta.length<10}function cD(r,e){r.Ta.push(e);const n=cs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function KT(r){return la(r)&&!cs(r).x_()&&r.Ta.length>0}function QT(r){cs(r).start()}async function hD(r){cs(r).ra()}async function fD(r){const e=cs(r);for(const n of r.Ta)e.ea(n.mutations)}async function dD(r,e,n){const s=r.Ta.shift(),o=jp.from(s,e,n);await GT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await uf(r)}async function mD(r,e){e&&cs(r).Y_&&await(async function(s,o){if((function(f){return Y2(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await GT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(s)}})(r,e),KT(r)&&QT(r)}async function s0(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),le(ra,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await wu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lf(n)}async function pD(r,e){const n=Te(r);e?(n.Ea.delete(2),await lf(n)):e||(n.Ea.add(2),await wu(n),n.Va.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,s,o){const u=Te(n);return u.sa(),new WN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:sD.bind(null,r),Yo:aD.bind(null,r),t_:oD.bind(null,r),J_:lD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),$p(r)?Yp(r):r.Va.set("Unknown")):(await r.ma.stop(),FT(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,o){const u=Te(n);return u.sa(),new ZN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hD.bind(null,r),t_:mD.bind(null,r),ta:fD.bind(null,r),na:dD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await uf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Xp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(r,e){if(ur("AsyncQueue",`${e}: ${r}`),No(r))return new oe(te.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class a0{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class gD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class yD{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=o0(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new oe(te.ABORTED,"Firestore shutting down"))}}function o0(){return new oa((r=>fT(r)),tf)}async function _D(r,e){const n=Te(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new gD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Jp(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Wp(n)}async function vD(r,e){const n=Te(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ED(r,e){const n=Te(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Wp(n)}function bD(r,e,n){const s=Te(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Wp(r){r.Ca.forEach((e=>{e.next()}))}var lp,l0;(l0=lp||(lp={})).Ma="default",l0.Cache="cache";class TD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}class YT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class AD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=dT(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new a0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const R=o.get(E),k=nf(this.query,A)?A:null,Q=!!R&&this.mutatedKeys.has(R.key),q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;R&&k?R.data.isEqual(k.data)?Q!==q&&(s.track({type:3,doc:k}),F=!0):this.su(R,k)||(s.track({type:2,doc:k}),F=!0,(g&&this.eu(k,g)>0||p&&this.eu(k,p)<0)&&(m=!0)):!R&&k?(s.track({type:0,doc:k}),F=!0):R&&!k&&(s.track({type:1,doc:R}),F=!0,(g||p)&&(m=!0)),F&&(k?(f=f.add(k),u=q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,A)=>(function(k,Q){const q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:F})}};return q(k)-q(Q)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,f.length!==0||p?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new $T(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new YT(s))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zp="SyncEngine";class SD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wD{constructor(e){this.key=e,this.hu=!1}}class RD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>fT(m)),tf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(me.comparator),this.Au=new Map,this.Vu=new qp,this.du={},this.mu=new Map,this.fu=vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xD(r,e,n=!0){const s=tA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await XT(s,e,n,!0),o}async function CD(r,e){const n=tA(r);await XT(n,e,!0,!1)}async function XT(r,e,n,s){const o=await FN(r.localStore,Ni(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ID(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&qT(r.remoteStore,o),m}async function ID(r,e,n,s,o){r.pu=(A,R,k)=>(async function(q,F,W,Z){let ie=F.view.ru(W);ie.Ss&&(ie=await e0(q.localStore,F.query,!1).then((({documents:I})=>F.view.ru(I,ie))));const _e=Z&&Z.targetChanges.get(F.targetId),Ce=Z&&Z.targetMismatches.get(F.targetId)!=null,Ae=F.view.applyChanges(ie,q.isPrimaryClient,_e,Ce);return c0(q,F.targetId,Ae.au),Ae.snapshot})(r,A,R,k);const u=await e0(r.localStore,e,!0),f=new AD(e,u.ks),m=f.ru(u.documents),g=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);c0(r,n,p.au);const E=new SD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function ND(r,e,n){const s=Te(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!tf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Kp(s.remoteStore,o.targetId),up(s,o.targetId)})).catch(Io)):(up(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function DD(r,e){const n=Te(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kp(n.remoteStore,s.targetId))}async function OD(r,e,n){const s=jD(r);try{const o=await(function(f,m){const g=Te(f),p=nt.now(),E=m.reduce(((k,Q)=>k.add(Q.key)),Le());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=cr(),q=Le();return g.xs.getEntries(k,E).next((F=>{Q=F,Q.forEach(((W,Z)=>{Z.isValidDocument()||(q=q.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,Q))).next((F=>{A=F;const W=[];for(const Z of m){const ie=H2(Z,A.get(Z.key).overlayedDocument);ie!=null&&W.push(new gs(Z.key,ie,rT(ie.value.mapValue),ti.exists(!0)))}return g.mutationQueue.addMutationBatch(k,p,W,m)})).next((F=>{R=F;const W=F.applyToLocalDocumentSet(A,q);return g.documentOverlayCache.saveOverlays(k,F.batchId,W)}))})).then((()=>({batchId:R.batchId,changes:pT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.du[f.currentUser.toKey()];p||(p=new ct(ke)),p=p.insert(m,g),f.du[f.currentUser.toKey()]=p})(s,o.batchId,n),await Ru(s,o.changes),await uf(s.remoteStore)}catch(o){const u=Jp(o,"Failed to persist write");n.reject(u)}}async function JT(r,e){const n=Te(r);try{const s=await BN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await Ru(n,s,e)}catch(s){await Io(s)}}function u0(r,e,n){const s=Te(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Te(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,A)=>{for(const R of A.ba)R.va(m)&&(p=!0)})),p&&Wp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MD(r,e,n){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(me.comparator);f=f.insert(u,Wt.newNoDocument(u,Ee.min()));const m=Le().add(u),g=new af(Ee.min(),new Map,new ct(ke),f,m);await JT(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),eg(s)}else await ap(s.localStore,e,!1).then((()=>up(s,e,n))).catch(Io)}async function VD(r,e){const n=Te(r),s=e.batch.batchId;try{const o=await zN(n.localStore,e);ZT(n,s,null),WT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await Io(o)}}async function kD(r,e,n){const s=Te(r);try{const o=await(function(f,m){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((A=>(Ge(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(p,A)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);ZT(s,e,n),WT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await Io(o)}}function WT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ZT(r,e,n){const s=Te(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function up(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||eA(r,s)}))}function eA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Kp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),eg(r))}function c0(r,e,n){for(const s of n)s instanceof YT?(r.Vu.addReference(s.key,e),LD(r,s)):s instanceof $T?(le(Zp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||eA(r,s.key)):ye(19791,{wu:s})}function LD(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(Zp,"New document in limbo: "+n),r.Eu.add(s),eg(r))}function eg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new wD(n)),r.Ru=r.Ru.insert(n,s),qT(r.remoteStore,new es(Ni(Pp(n.path)),s,"TargetPurposeLimboResolution",Wh.ce))}}async function Ru(r,e,n){const s=Te(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Fp.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,p){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ne.forEach(p,(R=>ne.forEach(R.Ts,(k=>E.persistence.referenceDelegate.addReference(A,R.targetId,k))).next((()=>ne.forEach(R.Is,(k=>E.persistence.referenceDelegate.removeReference(A,R.targetId,k)))))))))}catch(A){if(!No(A))throw A;le(Gp,"Failed to update sequence numbers: "+A)}for(const A of p){const R=A.targetId;if(!A.fromCache){const k=E.vs.get(R),Q=k.snapshotVersion,q=k.withLastLimboFreeSnapshotVersion(Q);E.vs=E.vs.insert(R,q)}}})(s.localStore,u))}async function PD(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){le(Zp,"User change. New user:",e.toKey());const s=await UT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ns)}}function UD(r,e){const n=Te(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function tA(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MD.bind(null,e),e.Pu.J_=ED.bind(null,e.eventManager),e.Pu.yu=bD.bind(null,e.eventManager),e}function jD(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kD.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jN(this.persistence,new LN,e.initialUser,this.serializer)}Cu(e){return new PT(Hp.Vi,this.serializer)}Du(e){return new KN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class zD extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new PT((s=>jh.Vi(s,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>u0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await pD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yD})()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=JN(e.databaseInfo);return nD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new rD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>u0(this.syncEngine,n,0)),(function(){return i0.v()?new i0:new QN})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const A=new RD(o,u,f,m,g,p);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);le(ra,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};class BD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hs="FirestoreClient";class qD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),le(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await UT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function h0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await HD(r);le(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>s0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>s0(e.remoteStore,o))),r._onlineComponents=e}async function HD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(hs,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new Bh)}}else le(hs,"Using default OfflineComponentProvider"),await Vm(r,new zD(void 0));return r._offlineComponents}async function nA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(hs,"Using user provided OnlineComponentProvider"),await h0(r,r._uninitializedComponentsProvider._online)):(le(hs,"Using default OnlineComponentProvider"),await h0(r,new cp))),r._onlineComponents}function FD(r){return nA(r).then((e=>e.syncEngine))}async function f0(r){const e=await nA(r),n=e.eventManager;return n.onListen=xD.bind(null,e.syncEngine),n.onUnlisten=ND.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DD.bind(null,e.syncEngine),n}function GD(r,e,n,s){const o=new BD(s),u=new TD(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>_D(await f0(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>vD(await f0(r),u)))}}function KD(r,e){const n=new Js;return r.asyncQueue.enqueueAndForget((async()=>OD(await FD(r),e,n))),n.promise}function iA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const QD="ComponentProvider",d0=new Map;function YD(r,e,n,s,o){return new c2(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,iA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const rA="firestore.googleapis.com",m0=!0;class p0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rA,this.ssl=m0}else this.host=e.host,this.ssl=e.ssl??m0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vN)throw new oe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HI;switch(s.type){case"firstParty":return new QI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=d0.get(n);s&&(le(QD,"Removing Datastore"),d0.delete(n),s.terminate())})(this),Promise.resolve()}}function $D(r,e,n,s={}){r=rr(r,cf);const o=wo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(J0(`https://${m}`),W0("Firestore",!0)),u.host!==rA&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Zs(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Jt.MOCK_USER;else{p=eR(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new oe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(A)}r._authCredentials=new FI(new Kb(p,E))}}class ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,_t._jsonSchema))return new _t(e,s||null,new me(tt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Nt("string",_t._jsonSchemaVersion),referencePath:Nt("string")};class ss extends ua{constructor(e,n,s){super(e,n,Pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new me(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function qh(r,e,...n){if(r=kt(r),Qb("collection","path",e),r instanceof cf){const s=tt.fromString(e,...n);return xE(s),new ss(r,null,s)}{if(!(r instanceof _t||r instanceof ss))throw new oe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return xE(s),new ss(r.firestore,null,s)}}function sr(r,e,...n){if(r=kt(r),arguments.length===1&&(e=Dp.newId()),Qb("doc","path",e),r instanceof cf){const s=tt.fromString(e,...n);return RE(s),new _t(r,null,new me(s))}{if(!(r instanceof _t||r instanceof ss))throw new oe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return RE(s),new _t(r.firestore,r instanceof ss?r.converter:null,new me(s))}}const g0="AsyncQueue";class y0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&le(g0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;le(g0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",_0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Xp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class bo extends cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new y0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y0(e),this._firestoreClient=void 0,await e}}}function XD(r,e){const n=typeof r=="object"?r:nb(),s=typeof r=="string"?r:Vh,o=bp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=W1("firestore");u&&$D(o,...u)}return o}function sA(r){if(r._terminated)throw new oe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JD(r),r._firestoreClient}function JD(r){const e=r._freezeSettings(),n=YD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new qD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Yt.fromBase64String(e))}catch(n){throw new oe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Nt("string",Un._jsonSchemaVersion),bytes:Nt("string")};class tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hf{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ni(e.vectorValues);throw new oe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Nt("string",ni._jsonSchemaVersion),vectorValues:Nt("object")};const WD=/^__.*__$/;class ZD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class aA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class ng{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oA(this.dataSource)&&WD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}createContext(e,n,s,o=!1){return new ng({dataSource:e,methodName:n,targetDoc:s,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ff(r){const e=r._freezeSettings(),n=of(r._databaseId);return new eO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function lA(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",f,s);const m=uA(s,f);let g,p;if(u.merge)g=new Tn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=sa(e,A,n);if(!f.contains(R))throw new oe(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);fA(E,R)||E.push(R)}g=new Tn(E),p=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,p=f.fieldTransforms;return new ZD(new fn(m),g,p)}class df extends hf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class ig extends hf{_toFieldTransform(e){return new j2(e.path,new uu)}isEqual(e){return e instanceof ig}}function tO(r,e,n,s){const o=r.createContext(1,e,n);rg("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();ps(s,((g,p)=>{const E=hA(e,g,n);p=kt(p);const A=o.childContextForFieldPath(E);if(p instanceof df)u.push(E);else{const R=xu(p,A);R!=null&&(u.push(E),f.set(E,R))}}));const m=new Tn(u);return new aA(f,m,o.fieldTransforms)}function nO(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[sa(e,s,n)],g=[o];if(u.length%2!=0)throw new oe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(sa(e,u[R])),g.push(u[R+1]);const p=[],E=fn.empty();for(let R=m.length-1;R>=0;--R)if(!fA(p,m[R])){const k=m[R];let Q=g[R];Q=kt(Q);const q=f.childContextForFieldPath(k);if(Q instanceof df)p.push(k);else{const F=xu(Q,q);F!=null&&(p.push(k),E.set(k,F))}}const A=new Tn(p);return new aA(E,A,f.fieldTransforms)}function iO(r,e,n,s=!1){return xu(n,r.createContext(s?4:3,e))}function xu(r,e){if(cA(r=kt(r)))return rg("Unsupported field value:",e,r),uA(r,e);if(r instanceof hf)return(function(s,o){if(!oA(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=xu(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return L2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:CT(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ni)return(function(f,m){const g=f instanceof ni?f.toArray():f;return{mapValue:{fields:{[nT]:{stringValue:iT},[kh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Up(m.serializer,E)}))}}}}}})(s,o);if(kT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Jh(s)}`)})(r,e)}function uA(r,e){const n={};return Xb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,((s,o)=>{const u=xu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function cA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Oi||r instanceof Un||r instanceof _t||r instanceof hf||r instanceof ni||kT(r))}function rg(r,e,n){if(!cA(n)||!Yb(n)){const s=Jh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function sa(r,e,n){if((e=kt(e))instanceof tg)return e._internalPath;if(typeof e=="string")return hA(r,e);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const rO=new RegExp("[~\\*/\\[\\]]");function hA(r,e,n){if(e.search(rO)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tg(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new oe(te.INVALID_ARGUMENT,m+r+g)}function fA(r,e){return r.some((n=>n.isEqual(e)))}class sO{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ps(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new ni(n)}convertGeoPoint(e){return new Oi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=os(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(VT(s),9688,{name:e});const o=new au(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class dA extends sO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function fu(){return new ig("serverTimestamp")}const v0="@firebase/firestore",E0="4.10.0";function b0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class mA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(sa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends mA{data(){return super.data()}}function oO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class pA extends sg{}function gA(r,e,...n){let s=[];e instanceof sg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof ag)).length,m=u.filter((g=>g instanceof mf)).length;if(f>1||f>0&&m>0)throw new oe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class mf extends pA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new mf(e,n,s)}_apply(e){const n=this._parse(e);return _A(e._query,n),new ua(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=ff(e.firestore);return(function(u,f,m,g,p,E,A){let R;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){A0(A,E);const Q=[];for(const q of A)Q.push(T0(g,u,q));R={arrayValue:{values:Q}}}else R=T0(g,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||A0(A,E),R=iO(m,f,A,E==="in"||E==="not-in");return It.create(p,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lO(r,e,n){const s=e,o=sa("where",r);return mf._create(o,s,n)}class ag extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)_A(f,g),f=ep(f,g)})(e._query,n),new ua(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends pA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new og(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(u,f)})(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,C2(e._query,n))}}function yA(r,e="asc"){const n=e,s=sa("orderBy",r);return og._create(s,n)}function T0(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new oe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(e)&&n.indexOf("/")!==-1)throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kE(r,new me(s))}if(n instanceof _t)return kE(r,n._key);throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function A0(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function vA(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends mA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Nt("string",Ws._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Th extends Ws{data(e={}){return super.data(e)}}class fo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:uO(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Nt("string",fo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function Fh(r,e,n){r=rr(r,_t);const s=rr(r.firestore,bo),o=vA(r.converter,e),u=ff(s);return lg(s,[lA(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ti.none())])}function Ql(r,e,n,...s){r=rr(r,_t);const o=rr(r.firestore,bo),u=ff(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof tg?nO(u,"updateDoc",r._key,e,n,s):tO(u,"updateDoc",r._key,e),lg(o,[f.toMutation(r._key,ti.exists(!0))])}function cO(r,e){const n=rr(r.firestore,bo),s=sr(r),o=vA(r.converter,e),u=ff(r.firestore);return lg(n,[lA(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ti.exists(!1))]).then((()=>s))}function du(r,...e){r=kt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||b0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(b0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof _t)f=rr(r.firestore,bo),m=Pp(r._key.path),u={next:p=>{e[s]&&e[s](hO(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=rr(r,ua);f=rr(p.firestore,bo),m=p._query;const E=new dA(f);u={next:A=>{e[s]&&e[s](new fo(f,E,p,A))},error:e[s+1],complete:e[s+2]},oO(r._query)}const g=sA(f);return GD(g,m,o,u)}function lg(r,e){const n=sA(r);return KD(n,e)}function hO(r,e,n){const s=n.docs.get(e._key),o=new dA(r);return new Ws(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qI(Ro),mo(new ea("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new bo(new GI(s.getProvider("auth-internal")),new YI(f,s.getProvider("app-check-internal")),h2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(v0,E0,e),is(v0,E0,"esm2020")})();const fO={apiKey:"AIzaSyAZQYoxr1jC6y7bLXpbovdPGBQFKaKWl7s",authDomain:"cmcf-fitness-v2.firebaseapp.com",projectId:"cmcf-fitness-v2",storageBucket:"cmcf-fitness-v2.firebasestorage.app",messagingSenderId:"316842630495",appId:"1:316842630495:web:16f55a36fe412eb415aaea"},EA=tb(fO),ao=zI(EA),jn=XD(EA),zn="cmcf-fitness-v6",S0={plans:[{id:"p1",title:"PLAN BSICO",price:30,currency:"$",description:"Acceso a Pesas y 1 clase grupal",visible:!0},{id:"p2",title:"PLAN ELITE",price:50,currency:"$",description:"Acceso Total + Crossfit Ilimitado",visible:!0,recommended:!0}],staff:[{id:"s1",name:"CARLOS M.",role:"HEAD COACH",specialty:"CROSSFIT",photoUrl:""}],schedule:[{id:"c1",day:"LUNES",time:"07:00 AM",class:"CROSSFIT",coach:"Carlos M.",spots:15,booked:0},{id:"c2",day:"MARTES",time:"05:00 PM",class:"ZUMBA",coach:"Ana R.",spots:20,booked:5}],paymentMethods:{zelle:"pagos@cmcf.com / Titular: CMCF INC",pagoMovil:"0414-0000000 / CI: 12345678 / Banco Mercantil",efectivo:"Pagar directamente en Recepcin",binance:"Pay ID: 123456789"},admins:["admincmcf"],hero:{title1:"ROMPE TUS",title2:"LMITES",cta:"INICIAR SESIN",bgImage:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80"}};const dO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),w0=r=>{const e=mO(r);return e.charAt(0).toUpperCase()+e.slice(1)},bA=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),pO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yO=H.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>H.createElement("svg",{ref:g,...gO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:bA("lucide",o),...!u&&!pO(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>H.createElement(p,E)),...Array.isArray(u)?u:[u]]));const dr=(r,e)=>{const n=H.forwardRef(({className:s,...o},u)=>H.createElement(yO,{ref:u,iconNode:e,className:bA(`lucide-${dO(w0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=w0(r),n};const _O=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TA=dr("arrow-left",_O);const vO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AA=dr("check",vO);const EO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bO=dr("circle-alert",EO);const TO=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],AO=dr("dumbbell",TO);const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wO=dr("info",SO);const RO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],km=dr("pen",RO);const xO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lm=dr("trash-2",xO);const CO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],IO=dr("user",CO);const NO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SA=dr("x",NO),wA=H.createContext(),ca=()=>H.useContext(wA),DO=({children:r})=>{const[e,n]=H.useState(null),[s,o]=H.useState(null),[u,f]=H.useState(!0),[m,g]=H.useState(null),p=(R,k="info")=>{g({msg:R,type:k}),setTimeout(()=>g(null),4e3)};H.useEffect(()=>{let R;const k=CC(ao,async Q=>{if(n(Q),R&&R(),Q)try{const q=sr(jn,"artifacts",zn,"users",Q.uid);R=du(q,async F=>{if(F.exists())o(F.data());else{console.log("Profile missing. Attempting auto-repair...");const W=Q.email||"";let Z=null;W.includes("admincmcf")?Z={username:"admincmcf",role:"admin",fullName:"Administrador",membershipStatus:"active",balance:0,cedula:"ADMIN-01",phone:"000-0000000",email:W,joinedAt:fu()}:W.includes("prueba")&&(Z={username:"prueba",role:"user",fullName:"Usuario Prueba",membershipStatus:"active",balance:0,cedula:"TEST-01",phone:"000-0000000",email:W,membershipExpiry:nt.fromDate(new Date(Date.now()+2592e6)),joinedAt:fu()}),Z?(await Fh(q,Z),p("PERFIL RECUPERADO","success")):o({username:"error",role:"user",fullName:"Usuario Sin Perfil",membershipStatus:"inactive",balance:0,cedula:"ERROR",email:W,isError:!0})}},F=>{console.error("Profile sync error:",F),o({fullName:"Error de Conexin",role:"user",isError:!0})})}catch(q){console.error(q)}else o(null);f(!1)});return()=>{k(),R&&R()}},[]);const A={user:e,userData:s,loading:u,logout:async()=>{await IC(ao),n(null),o(null)},notification:m,showNotification:p};return b.jsx(wA.Provider,{value:A,children:r})},OO=()=>{const{user:r,userData:e}=ca();return fs(),b.jsx("nav",{className:"sticky top-0 z-40 bg-black/95 border-b border-brand-green/30 backdrop-blur-md",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[b.jsxs($r,{to:"/",className:"flex items-center cursor-pointer group",children:[b.jsx(AO,{className:"text-brand-green h-8 w-8 group-hover:rotate-12 transition-transform"}),b.jsxs("span",{className:"ml-2 font-display text-2xl tracking-widest text-white italic",children:["CMCF ",b.jsx("span",{className:"text-brand-green",children:"BOX"})]})]}),b.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[b.jsx($r,{to:"/",className:"font-display italic hover:text-brand-green text-gray-300",children:"INICIO"}),b.jsx($r,{to:"/schedule",className:"font-display italic hover:text-brand-green text-gray-300",children:"CLASES"}),r?b.jsxs(b.Fragment,{children:[b.jsx($r,{to:"/profile",className:"bg-brand-green text-black px-4 py-1 font-display font-bold italic hover:bg-white transform -skew-x-12",children:b.jsx("span",{className:"skew-x-12",children:"MI PERFIL"})}),e?.role==="admin"&&b.jsx($r,{to:"/admin",className:"text-red-500 font-display italic hover:text-red-400 border border-red-500 px-2",children:"ADMIN"})]}):b.jsx($r,{to:"/auth",className:"border border-brand-green text-brand-green px-4 py-1 font-display italic hover:bg-brand-green hover:text-black transition",children:"REGSTRATE"})]})]})})},MO=({notification:r})=>{if(!r)return null;const{msg:e,type:n}=r,s={error:"bg-red-900 text-white border-red-500",success:"bg-green-900 text-white border-brand-green",warning:"bg-yellow-900 text-yellow-500 border-yellow-500",info:"bg-neutral-900 text-brand-green border-brand-green"},o={error:b.jsx(SA,{size:20}),success:b.jsx(AA,{size:20}),warning:b.jsx(bO,{size:20}),info:b.jsx(wO,{size:20})};return b.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-4 border-l-4 font-display italic shadow-2xl z-50 animate-fade-in flex items-center gap-3 ${s[n]||s.info}`,children:[o[n],b.jsx("span",{children:e.toUpperCase()})]})},VO=({data:r})=>{const e=fs();return b.jsxs("div",{className:"animate-fade-in",children:[b.jsxs("div",{className:"relative h-[600px] flex items-center justify-center overflow-hidden border-b border-brand-green/30 bg-black",children:[b.jsx("img",{src:r?.hero?.bgImage||"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",className:"absolute inset-0 w-full h-full object-cover bw-filter opacity-40"}),b.jsxs("div",{className:"relative z-10 text-center px-4",children:[b.jsxs("h1",{className:"text-6xl md:text-9xl font-display font-bold italic tracking-tighter text-white mb-2 leading-none",children:[r?.hero?.title1||"ROMPE TUS"," ",b.jsx("br",{})," ",b.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-b from-brand-green to-green-700 neon-text stroke-white",children:r?.hero?.title2||"LMITES"})]}),b.jsx("button",{onClick:()=>e("/auth"),className:"mt-8 bg-brand-green text-black px-10 py-4 font-display font-bold italic text-2xl hover:bg-white hover:shadow-[0_0_20px_#39ff14] skew-x-[-10deg]",children:b.jsx("span",{className:"skew-x-[10deg] inline-block",children:r?.hero?.cta||"INICIAR SESIN"})})]})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-20",children:[b.jsxs("h2",{className:"text-5xl font-display font-bold italic text-white mb-12 uppercase text-center",children:["PLANES ",b.jsx("span",{className:"text-brand-green",children:"."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?.plans?.filter(n=>n.visible).map(n=>b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-8 hover:border-brand-green transition group",children:[b.jsx("h3",{className:"text-2xl font-display font-bold italic text-white mb-2",children:n.title}),b.jsxs("div",{className:"text-4xl font-display font-bold text-brand-green mb-4",children:[n.currency,n.price]}),b.jsx("p",{className:"text-gray-400 font-mono text-sm mb-6",children:n.description}),b.jsx("button",{onClick:()=>e("/auth"),className:"w-full py-3 border border-gray-600 text-gray-300 font-display italic hover:bg-brand-green hover:text-black hover:border-brand-green transition",children:"SELECCIONAR"})]},n.id))})]}),b.jsx("div",{className:"py-20 bg-neutral-900 border-t border-gray-800",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[b.jsxs("h2",{className:"text-5xl font-display font-bold italic text-white mb-12 uppercase text-right",children:["NUESTRO ",b.jsx("span",{className:"text-brand-green",children:"EQUIPO"})]}),b.jsx("div",{className:"flex overflow-x-auto gap-6 pb-8 snap-x hide-scrollbar",children:r?.staff?.map(n=>b.jsxs("div",{className:"min-w-[280px] md:min-w-[320px] bg-black border border-gray-800 p-4 snap-center hover:border-brand-green transition group",children:[b.jsxs("div",{className:"w-full h-80 bg-gray-800 mb-4 overflow-hidden relative grayscale group-hover:grayscale-0 transition duration-500",children:[n.photoUrl?b.jsx("img",{src:n.photoUrl,className:"w-full h-full object-cover",alt:n.name}):b.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:b.jsx("svg",{className:"w-20 h-20 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeWidth:"1",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),b.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-brand-green text-black font-bold font-display italic text-center py-1 opacity-0 group-hover:opacity-100 transition translate-y-2 group-hover:translate-y-0",children:"RESERVAR CLASE"})]}),b.jsx("h3",{className:"text-3xl font-display italic text-white uppercase leading-none",children:n.name}),b.jsx("p",{className:"text-brand-green font-mono text-sm mt-1 mb-2 tracking-widest",children:n.role}),b.jsx("p",{className:"text-gray-500 text-xs border-t border-gray-800 pt-3",children:n.specialty})]},n.id))})]})})]})},kO=()=>{const[r,e]=H.useState(!1),[n,s]=H.useState(!1),[o,u]=H.useState(""),[f,m]=H.useState(""),[g,p]=H.useState({username:"",fullName:"",phone:"",instagram:"",address:"",dob:"",cedula:"",password:""}),E=fs(),{showNotification:A}=ca(),R=async q=>{q.preventDefault();const F=o.trim().toLowerCase().replace(/\s/g,""),W=`${F}@cmcf.local`;if(F==="admincmcf"&&f==="cmcfadmin"||F==="prueba"&&f==="123456"){const Z=F==="admincmcf"?"admin":"user";try{await k(W,f,Z,F),A("BIENVENIDO","success"),E("/profile")}catch(ie){console.error(ie),A("ERROR: "+ie.message,"error")}return}try{await dE(ao,W,f),A("BIENVENIDO AL BOX","success"),E("/profile")}catch(Z){console.error(Z),Z.code==="auth/invalid-credential"||Z.code==="auth/user-not-found"?A("USUARIO O CONTRASEA INCORRECTOS","error"):A("ERROR: "+Z.code,"error")}},k=async(q,F,W,Z)=>{try{await dE(ao,q,F)}catch(ie){if(ie.code==="auth/user-not-found"||ie.code==="auth/invalid-credential"||ie.code==="auth/invalid-login-credentials")try{const _e=await fE(ao,q,F);await Fh(sr(jn,"artifacts",zn,"users",_e.user.uid),{username:Z,role:W,membershipStatus:"active",balance:0,fullName:W==="admin"?"Administrador":"Usuario Prueba",joinedAt:fu()})}catch(_e){throw _e}else throw ie}},Q=async q=>{if(q.preventDefault(),!g.username||!g.password||!g.cedula)return A("FALTAN DATOS","error");const F=g.username.trim().toLowerCase().replace(/\s/g,"");try{const W=`${F}@cmcf.local`,Z=await fE(ao,W,g.password);await Fh(sr(jn,"artifacts",zn,"users",Z.user.uid),{...g,username:F,role:"user",membershipStatus:"inactive",membershipExpiry:null,balance:0,joinedAt:fu()}),A("REGISTRO EXITOSO. INICIA SESIN.","success"),e(!1)}catch(W){W.code==="auth/email-already-in-use"?A("EL USUARIO YA EXISTE","error"):W.code==="auth/weak-password"?A("CONTRASEA MUY DBIL","error"):A("ERROR: "+W.code,"error")}};return b.jsx("div",{className:"max-w-md mx-auto px-4 py-16 w-full animate-fade-in",children:b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-8 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-brand-green"}),r?b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-3xl font-display font-bold italic text-white mb-6 uppercase text-center",children:"NUEVO RECLUTA"}),b.jsxs("form",{onSubmit:Q,className:"space-y-3",children:[b.jsx("input",{placeholder:"Nombre Completo",value:g.fullName,onChange:q=>p({...g,fullName:q.target.value}),className:"w-full bg-black border border-gray-700 p-3 text-white focus:border-brand-green outline-none text-sm",required:!0}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsx("input",{placeholder:"Cdula",value:g.cedula,onChange:q=>p({...g,cedula:q.target.value}),className:"bg-black border border-gray-700 p-3 text-white text-sm focus:border-brand-green outline-none",required:!0}),b.jsx("input",{type:"date",placeholder:"Fecha Nac.",value:g.dob,onChange:q=>p({...g,dob:q.target.value}),className:"bg-black border border-gray-700 p-3 text-white text-sm focus:border-brand-green outline-none",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsx("input",{placeholder:"Telfono",value:g.phone,onChange:q=>p({...g,phone:q.target.value}),className:"bg-black border border-gray-700 p-3 text-white text-sm focus:border-brand-green outline-none",required:!0}),b.jsx("input",{placeholder:"@Instagram",value:g.instagram,onChange:q=>p({...g,instagram:q.target.value}),className:"bg-black border border-gray-700 p-3 text-white text-sm focus:border-brand-green outline-none"})]}),b.jsx("input",{placeholder:"Direccin",value:g.address,onChange:q=>p({...g,address:q.target.value}),className:"w-full bg-black border border-gray-700 p-3 text-white focus:border-brand-green outline-none text-sm"}),b.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[b.jsx("input",{placeholder:"Usuario (sin espacios)",value:g.username,onChange:q=>p({...g,username:q.target.value}),className:"w-full bg-black border border-gray-700 p-3 text-white focus:border-brand-green outline-none font-mono mb-2",required:!0}),b.jsx("input",{type:"password",placeholder:"Contrasea (min 6 car.)",value:g.password,onChange:q=>p({...g,password:q.target.value}),className:"w-full bg-black border border-gray-700 p-3 text-white focus:border-brand-green outline-none font-mono",required:!0})]}),b.jsx("button",{className:"w-full bg-brand-green text-black font-display font-bold italic text-xl py-3 hover:bg-white transition mt-4",children:"REGISTRARSE"})]}),b.jsx("button",{onClick:()=>e(!1),className:"mt-4 w-full text-center text-xs font-mono text-gray-500 hover:text-white",children:"VOLVER AL LOGIN"})]}):b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-3xl font-display font-bold italic text-white mb-6 uppercase text-center",children:n?"ACCESO COMANDO":"ACCESO ATLETAS"}),b.jsxs("form",{onSubmit:R,className:"space-y-4",children:[b.jsx("input",{placeholder:"USUARIO",value:o,onChange:q=>u(q.target.value),className:"w-full bg-black border border-gray-700 p-4 text-white focus:border-brand-green outline-none font-mono"}),b.jsx("input",{type:"password",placeholder:"CONTRASEA",value:f,onChange:q=>m(q.target.value),className:"w-full bg-black border border-gray-700 p-4 text-white focus:border-brand-green outline-none font-mono"}),b.jsx("button",{className:"w-full bg-brand-green text-black font-display font-bold italic text-xl py-3 hover:bg-white transition",children:"ENTRAR"})]}),b.jsxs("div",{className:"mt-4 flex justify-between text-xs font-mono text-gray-500",children:[b.jsx("button",{onClick:()=>e(!0),className:"hover:text-white",children:"NO TENGO CUENTA"}),b.jsx("button",{onClick:()=>s(!n),className:`hover:text-white ${n?"text-brand-green":""}`,children:n?"VOLVER A USUARIO":"ERES ADMIN? ACCEDE AQU"})]})]})]})})},Ah=r=>r?r.toDate&&typeof r.toDate=="function"?r.toDate():r instanceof Date?r:typeof r=="string"?new Date(r):r.seconds?new Date(r.seconds*1e3):null:null,Ys=r=>r||"",LO=()=>{const{user:r,userData:e,logout:n}=ca(),[s,o]=H.useState("info"),[u,f]=H.useState([]),m=fs();if(H.useEffect(()=>{if(!r)return;const k=gA(qh(jn,"artifacts",zn,"public","payments","list"),lO("userId","==",r.uid),yA("timestamp","desc")),Q=du(k,q=>{f(q.docs.map(F=>({id:F.id,...F.data()})))});return()=>Q()},[r]),!e)return b.jsx("div",{className:"min-h-screen flex items-center justify-center text-white font-display italic",children:"CARGANDO PERFIL..."});const g=new Date,p=Ah(e.membershipExpiry),E=p?Math.ceil((p-g)/(1e3*60*60*24)):0,A=!p||E<=0,R=e.username&&e.username.length>0?e.username[0].toUpperCase():"U";return b.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in pb-20",children:[b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-6 mb-8 relative overflow-hidden",children:[b.jsx("div",{className:`absolute top-0 right-0 p-2 text-xs font-bold uppercase ${A?"bg-red-600 text-white":"bg-brand-green text-black"}`,children:A?"MEMBRESA VENCIDA":"MEMBRESA ACTIVA"}),b.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-6 relative z-10",children:[b.jsx("div",{className:"w-24 h-24 bg-black border-2 border-brand-green flex items-center justify-center text-4xl font-display text-white",children:R}),b.jsxs("div",{className:"text-center md:text-left",children:[b.jsx("h2",{className:"text-3xl font-display italic text-white uppercase",children:Ys(e.fullName)}),b.jsxs("p",{className:"text-brand-green font-mono text-sm",children:["@",Ys(e.instagram)||"usuario"," | ",Ys(e.cedula)]}),b.jsx("p",{className:"text-gray-500 text-xs mt-1",children:Ys(e.email)})]})]}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 relative z-10",children:[b.jsxs("div",{className:"bg-black p-3 border-l-2 border-gray-700",children:[b.jsx("p",{className:"text-xs text-gray-500",children:"DAS RESTANTES"}),b.jsx("p",{className:`text-2xl font-display ${E<3?"text-red-500":"text-white"}`,children:E>0?E:0})]}),b.jsxs("div",{className:"bg-black p-3 border-l-2 border-gray-700",children:[b.jsx("p",{className:"text-xs text-gray-500",children:"VENCE EL"}),b.jsx("p",{className:"text-lg font-mono text-white",children:p?p.toLocaleDateString():"-"})]}),b.jsxs("div",{className:"bg-black p-3 border-l-2 border-gray-700",children:[b.jsx("p",{className:"text-xs text-gray-500",children:"DEUDA"}),b.jsxs("p",{className:"text-lg font-mono text-red-500",children:["$",e.balance||0]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>m("/payment"),className:"flex-1 bg-brand-green text-black py-3 font-display font-bold italic text-lg hover:bg-white transition",children:"REPORTAR PAGO / RENOVAR"}),b.jsx("button",{onClick:n,className:"px-6 py-3 border border-gray-700 text-gray-500 hover:text-white",children:"SALIR"})]})]}),b.jsxs("div",{className:"flex border-b border-gray-800 mb-6",children:[b.jsx("button",{onClick:()=>o("info"),className:`px-6 py-3 font-display italic transition ${s==="info"?"text-brand-green border-b-2 border-brand-green":"text-gray-500"}`,children:"INFO"}),b.jsx("button",{onClick:()=>o("history"),className:`px-6 py-3 font-display italic transition ${s==="history"?"text-brand-green border-b-2 border-brand-green":"text-gray-500"}`,children:"HISTORIAL"}),b.jsx("button",{onClick:()=>o("qr"),className:`px-6 py-3 font-display italic transition ${s==="qr"?"text-brand-green border-b-2 border-brand-green":"text-gray-500"}`,children:"MI QR"})]}),s==="info"&&b.jsxs("div",{className:"bg-neutral-900 p-6 border border-gray-800 animate-fade-in",children:[b.jsx("h3",{className:"text-white font-display italic mb-4",children:"DATOS PERSONALES"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-mono text-gray-400",children:[b.jsxs("div",{children:[b.jsx("strong",{className:"text-white",children:"TELFONO:"})," ",Ys(e.phone)]}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-white",children:"DIRECCIN:"})," ",Ys(e.address)]}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-white",children:"FECHA NAC:"})," ",Ys(e.dob)]}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-white",children:"REGISTRADO:"})," ",Ah(e.joinedAt)?Ah(e.joinedAt).toLocaleDateString():"-"]})]})]}),s==="history"&&b.jsx("div",{className:"bg-neutral-900 border border-gray-800 animate-fade-in",children:u.length===0?b.jsx("p",{className:"p-6 text-gray-500 text-center",children:"No hay pagos registrados."}):u.map(k=>b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center hover:bg-black/30",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"text-white font-bold",children:[k.method.toUpperCase()," - ",k.reference]}),b.jsxs("div",{className:"text-xs text-gray-500",children:[k.date,"  ",k.isPartial?"Abono":"Total"]}),k.rejectionReason&&b.jsxs("div",{className:"text-xs text-red-500",children:["Rechazado: ",k.rejectionReason]})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:"text-white font-mono",children:["$",k.amount]}),b.jsx("div",{className:`text-[10px] uppercase font-bold ${k.status==="aprobado"?"text-brand-green":k.status==="rechazado"?"text-red-500":"text-yellow-500"}`,children:k.status})]})]},k.id))}),s==="qr"&&b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-8 text-center animate-fade-in",children:[b.jsx("div",{className:"bg-white p-4 inline-block mb-4",children:b.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${r.uid}`,alt:"QR Acceso"})}),b.jsx("h3",{className:"text-white font-display italic text-2xl",children:"ACCESO AL BOX"}),b.jsx("p",{className:"text-gray-500 text-sm mt-2 font-mono",children:"Muestra este cdigo en recepcin."})]})]})},PO=({gymData:r})=>{const{user:e,showNotification:n}=ca(),s=fs(),[o,u]=H.useState(null),[f,m]=H.useState({amount:"",reference:"",method:"pagoMovil",isPartial:!1,date:new Date().toISOString().split("T")[0]}),g=async p=>{if(p.preventDefault(),!f.amount||!f.reference)return n("DATOS FALTANTES","error");try{await cO(qh(jn,"artifacts",zn,"public","payments","list"),{userId:e.uid,userEmail:e.email,...f,status:"pendiente",timestamp:fu()}),n("PAGO ENVIADO A REVISIN","success"),s("/profile")}catch(E){console.error(E),n("ERROR AL ENVIAR","error")}};return b.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in pb-20",children:[b.jsxs("button",{onClick:()=>s("/profile"),className:"mb-6 flex items-center text-gray-500 hover:text-white",children:[b.jsx(TA,{className:"mr-2"})," VOLVER"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-display italic text-white mb-4",children:"1. ELIGE TU MEMBRESA"}),b.jsx("div",{className:"space-y-4",children:r?.plans?.filter(p=>p.visible).map(p=>b.jsx("div",{onClick:()=>{u(p),m({...f,amount:p.price})},className:`p-4 border cursor-pointer transition ${o?.id===p.id?"bg-brand-green text-black border-brand-green":"bg-neutral-900 border-gray-800 hover:border-brand-green"}`,children:b.jsxs("div",{className:"flex justify-between font-bold",children:[b.jsx("span",{children:p.title}),b.jsxs("span",{children:[p.currency,p.price]})]})},p.id))}),b.jsx("h2",{className:"text-2xl font-display italic text-white mt-8 mb-4",children:"2. DATOS DE PAGO"}),b.jsx("div",{className:"bg-neutral-900 p-4 border border-gray-800 text-sm font-mono text-gray-400",children:Object.keys(r?.paymentMethods||{}).map(p=>b.jsxs("div",{className:"mb-3",children:[b.jsxs("strong",{className:"text-brand-green uppercase",children:[p,":"]}),b.jsx("p",{className:"whitespace-pre-wrap",children:r.paymentMethods[p]})]},p))})]}),b.jsxs("form",{onSubmit:g,className:"bg-black border border-gray-800 p-6 h-fit",children:[b.jsx("h2",{className:"text-2xl font-display italic text-white mb-6",children:"3. REPORTE"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-gray-500",children:"MTODO"}),b.jsx("select",{value:f.method,onChange:p=>m({...f,method:p.target.value}),className:"w-full bg-neutral-900 border border-gray-700 p-3 text-white",children:Object.keys(r?.paymentMethods||{}).map(p=>b.jsx("option",{value:p,children:p.toUpperCase()},p))})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-gray-500",children:"MONTO ($)"}),b.jsx("input",{type:"number",value:f.amount,onChange:p=>m({...f,amount:p.target.value}),className:"w-full bg-neutral-900 border border-gray-700 p-3 text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-gray-500",children:"FECHA"}),b.jsx("input",{type:"date",value:f.date,onChange:p=>m({...f,date:p.target.value}),className:"w-full bg-neutral-900 border border-gray-700 p-3 text-white"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-gray-500",children:"REFERENCIA (#)"}),b.jsx("input",{value:f.reference,onChange:p=>m({...f,reference:p.target.value}),className:"w-full bg-neutral-900 border border-gray-700 p-3 text-white font-mono",placeholder:"123456"})]}),b.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-900/50 border border-gray-800",children:[b.jsx("input",{type:"checkbox",checked:f.isPartial,onChange:p=>m({...f,isPartial:p.target.checked}),className:"accent-brand-green w-5 h-5"}),b.jsx("label",{className:"text-sm text-gray-300",children:"Es un abono/pago parcial?"})]}),b.jsx("button",{className:"w-full bg-brand-green text-black font-display font-bold italic text-xl py-3 hover:bg-white mt-4",children:"ENVIAR REPORTE"})]})]})]})]})},UO=({gymData:r})=>{const{user:e,userData:n,showNotification:s}=ca(),o=fs(),u=async f=>{if(!e)return o("/auth");const m=new Date,g=Ah(n?.membershipExpiry);if(!g||g<=m)return s("MEMBRESA VENCIDA","error");if(f.booked>=f.spots)return s("CLASE LLENA","error");try{const p=r.schedule.map(E=>E.id===f.id?{...E,booked:(E.booked||0)+1}:E);await Ql(sr(jn,"artifacts",zn,"public","content"),{schedule:p}),s("RESERVA EXITOSA","success")}catch(p){console.error(p),s("ERROR RESERVANDO","error")}};return b.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 animate-fade-in pb-20",children:[b.jsxs("button",{onClick:()=>o("/"),className:"mb-6 flex items-center text-gray-500 hover:text-white",children:[b.jsx(TA,{className:"mr-2"})," INICIO"]}),b.jsx("h2",{className:"text-3xl font-display font-bold italic text-white mb-6 uppercase",children:"HORARIOS DE CLASE"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r?.schedule?.map(f=>b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-4 hover:border-brand-green group transition",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsx("span",{className:"bg-brand-green text-black text-xs font-bold px-2 py-1",children:f.day}),b.jsx("span",{className:"text-gray-400 text-sm font-mono",children:f.time})]}),b.jsx("h3",{className:"text-2xl font-display italic text-white mb-1",children:f.class}),b.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Coach: ",f.coach]}),b.jsxs("div",{className:"flex justify-between items-center text-xs font-mono text-gray-400 border-t border-gray-800 pt-4",children:[b.jsxs("span",{children:["CUPOS: ",b.jsx("span",{className:"text-white",children:f.spots-(f.booked||0)})," / ",f.spots]}),b.jsx("button",{onClick:()=>u(f),className:"text-brand-green hover:bg-brand-green hover:text-black px-3 py-1 transition font-bold",children:"RESERVAR"})]})]},f.id))})]})},ch=({title:r,val:e,color:n})=>b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-6 text-center hover:border-brand-green transition group",children:[b.jsx("div",{className:"text-xs text-gray-500 mb-1 font-mono group-hover:text-white transition",children:r}),b.jsx("div",{className:`text-5xl font-display font-bold italic ${n}`,children:e})]}),jO=({gymData:r,setGymData:e})=>{const{showNotification:n}=ca(),[s,o]=H.useState("stats"),[u,f]=H.useState([]),[m,g]=H.useState([]),[p,E]=H.useState(null),[A,R]=H.useState(null),[k,Q]=H.useState(null),[q,F]=H.useState({username:""});H.useEffect(()=>{const T=du(qh(jn,"artifacts",zn,"users"),L=>{f(L.docs.map(C=>({id:C.id,...C.data()})))}),D=gA(qh(jn,"artifacts",zn,"public","payments","list"),yA("timestamp","desc")),O=du(D,L=>{g(L.docs.map(C=>({id:C.id,...C.data()})))});return()=>{T(),O()}},[]);const W=async T=>{try{await Ql(sr(jn,"artifacts",zn,"public","content"),T),n("CONTENIDO ACTUALIZADO","success")}catch(D){console.error(D),n("ERROR ACTUALIZANDO","error")}},Z=async(T,D)=>{const O=r[T]||[];let L;D.id?L=O.map(C=>C.id===D.id?D:C):L=[...O,{...D,id:Date.now().toString()}],await W({...r,[T]:L}),E(null),R(null),Q(null)},ie=async(T,D)=>{if(!window.confirm("Eliminar?"))return;const O=r[T]||[];await W({...r,[T]:O.filter(L=>L.id!==D)})},_e=async(T,D,O="")=>{try{const L=sr(jn,"artifacts",zn,"public","payments","list",T.id),C=sr(jn,"artifacts",zn,"users",T.userId);if(D==="approve"){const et=parseFloat(T.amount),st=u.find(fe=>fe.id===T.userId);if(!st)throw new Error("User not found");let Y=(st.balance||0)-et;Y<0&&(Y=0);const se={balance:Y};if(!T.isPartial&&Y<=10){se.membershipStatus="active";const fe=st.membershipExpiry?.toDate?st.membershipExpiry.toDate():new Date,De=new Date,qe=fe>De?fe:De,V=new Date(qe);V.setDate(V.getDate()+30),se.membershipExpiry=V}await Ql(C,se),await Ql(L,{status:"aprobado"})}else await Ql(L,{status:"rechazado",rejectionReason:O});n(`PAGO ${D.toUpperCase()}`,"success")}catch(L){console.error(L),n("ERROR PROCESANDO PAGO","error")}},Ce=u.filter(T=>T.membershipStatus==="active"),Ae=u.filter(T=>T.membershipStatus!=="active"),I=u.filter(T=>{if(!T.membershipExpiry)return!1;const D=T.membershipExpiry.toDate?T.membershipExpiry.toDate():new Date(T.membershipExpiry);return Math.ceil((D-new Date)/(1e3*60*60*24))===0}),x=u.filter(T=>{if(!T.membershipExpiry)return!1;const D=T.membershipExpiry.toDate?T.membershipExpiry.toDate():new Date(T.membershipExpiry),O=Math.ceil((D-new Date)/(1e3*60*60*24));return O>0&&O<=3});return b.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-fade-in pb-20",children:[b.jsxs("h2",{className:"text-4xl font-display italic text-white mb-8 border-b border-gray-800 pb-4",children:["COMANDO CENTRAL ",b.jsx("span",{className:"text-brand-green text-lg not-italic font-mono align-middle ml-2",children:"v2.0"})]}),b.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2 scrollbar-thin",children:["stats","pagos","usuarios","equipo","clases","planes","portada","config"].map(T=>b.jsx("button",{onClick:()=>o(T),className:`px-6 py-2 font-display italic uppercase text-lg border whitespace-nowrap ${s===T?"bg-brand-green text-black border-brand-green":"border-gray-700 text-gray-500 hover:text-white"}`,children:T},T))}),s==="stats"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[b.jsx(ch,{title:"ACTIVOS",val:Ce.length,color:"text-brand-green"}),b.jsx(ch,{title:"INACTIVOS",val:Ae.length,color:"text-red-500"}),b.jsx(ch,{title:"VENCEN HOY",val:I.length,color:"text-yellow-500"}),b.jsx(ch,{title:"VENCEN 3 DAS",val:x.length,color:"text-orange-500"})]}),s==="pagos"&&b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-6 overflow-x-auto animate-fade-in",children:[b.jsx("h3",{className:"text-xl font-display italic text-white mb-4",children:"BANDEJA DE PAGOS"}),b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-gray-500 text-xs border-b border-gray-800 uppercase",children:[b.jsx("th",{className:"p-4",children:"Usuario"}),b.jsx("th",{className:"p-4",children:"Mtodo / Ref"}),b.jsx("th",{className:"p-4",children:"Monto"}),b.jsx("th",{className:"p-4",children:"Estado"}),b.jsx("th",{className:"p-4 text-right",children:"Accin"})]})}),b.jsx("tbody",{className:"text-gray-300 text-sm font-mono",children:m.map(T=>b.jsxs("tr",{className:"border-b border-gray-800 hover:bg-black/30",children:[b.jsxs("td",{className:"p-4",children:[b.jsx("div",{className:"text-white font-bold",children:T.userEmail}),b.jsx("div",{className:"text-xs text-gray-500",children:new Date(T.date).toLocaleDateString()})]}),b.jsxs("td",{className:"p-4",children:[b.jsx("div",{className:"text-brand-green",children:T.method.toUpperCase()}),b.jsxs("div",{children:["#",T.reference]})]}),b.jsxs("td",{className:"p-4",children:[b.jsxs("div",{className:"text-xl font-display italic text-white",children:["$",T.amount]}),T.isPartial?b.jsx("span",{className:"text-xs bg-yellow-900 text-yellow-500 px-2 py-0.5 rounded",children:"PARCIAL"}):b.jsx("span",{className:"text-xs bg-blue-900 text-blue-300 px-2 py-0.5 rounded",children:"TOTAL"})]}),b.jsx("td",{className:"p-4",children:b.jsx("span",{className:`px-2 py-1 text-xs font-bold uppercase rounded ${T.status==="pendiente"?"bg-yellow-600 text-black":T.status==="aprobado"?"bg-brand-green text-black":"bg-red-600 text-white"}`,children:T.status})}),b.jsx("td",{className:"p-4 text-right",children:T.status==="pendiente"&&b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:()=>_e(T,"approve"),className:"p-2 bg-brand-green text-black hover:bg-white rounded",title:"Aprobar",children:b.jsx(AA,{size:16})}),b.jsx("button",{onClick:()=>{const D=prompt("Motivo de rechazo:");D&&_e(T,"reject",D)},className:"p-2 bg-red-600 text-white hover:bg-red-500 rounded",title:"Rechazar",children:b.jsx(SA,{size:16})})]})})]},T.id))})]})]}),s==="usuarios"&&b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-6 animate-fade-in",children:[b.jsx("h3",{className:"text-xl font-display italic text-white mb-4",children:"LISTA DE USUARIOS"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left max-h-[500px] overflow-y-auto",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-gray-500 text-xs border-b border-gray-800 uppercase",children:[b.jsx("th",{className:"p-2",children:"Nombre"}),b.jsx("th",{className:"p-2",children:"Cdula"}),b.jsx("th",{className:"p-2",children:"Telfono"}),b.jsx("th",{className:"p-2",children:"Vencimiento"}),b.jsx("th",{className:"p-2",children:"Deuda"})]})}),b.jsx("tbody",{className:"text-gray-300 text-sm font-mono",children:u.map(T=>b.jsxs("tr",{className:"border-b border-gray-800 hover:bg-black/30",children:[b.jsxs("td",{className:"p-2 text-white font-bold",children:[T.fullName," ",b.jsx("br",{}),b.jsx("span",{className:"text-[10px] text-gray-500 font-normal",children:T.email})]}),b.jsx("td",{className:"p-2",children:T.cedula}),b.jsx("td",{className:"p-2",children:T.phone}),b.jsx("td",{className:"p-2",children:T.membershipExpiry?.toDate?T.membershipExpiry.toDate().toLocaleDateString():"-"}),b.jsxs("td",{className:"p-2 text-red-500",children:["$",T.balance]})]},T.id))})]})})]}),s==="equipo"&&b.jsxs("div",{className:"animate-fade-in",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r?.staff?.map(T=>b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-4 relative group hover:border-brand-green",children:[b.jsxs("div",{className:"absolute top-2 right-2 hidden group-hover:flex gap-2 z-10",children:[b.jsx("button",{onClick:()=>E(T),className:"bg-blue-600 p-1 text-white",children:b.jsx(km,{size:14})}),b.jsx("button",{onClick:()=>ie("staff",T.id),className:"bg-red-600 p-1 text-white",children:b.jsx(Lm,{size:14})})]}),b.jsx("div",{className:"w-full h-40 bg-gray-800 mx-auto mb-4 overflow-hidden relative",children:T.photoUrl?b.jsx("img",{src:T.photoUrl,className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:b.jsx(IO,{})})}),b.jsx("h4",{className:"text-center font-bold text-white font-display italic text-xl",children:T.name}),b.jsx("p",{className:"text-center text-brand-green text-sm font-mono",children:T.role}),b.jsx("p",{className:"text-center text-gray-500 text-xs mt-1",children:T.specialty})]},T.id)),b.jsx("button",{onClick:()=>E({id:"",name:"",role:"",specialty:"",photoUrl:""}),className:"border-2 border-dashed border-gray-800 flex items-center justify-center text-gray-600 hover:border-brand-green hover:text-brand-green h-60 font-display italic",children:"+ AGREGAR MIEMBRO"})]}),p&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-neutral-900 border border-brand-green p-6 w-full max-w-md",children:[b.jsx("h3",{className:"text-xl font-display italic text-white mb-4",children:"EDITAR STAFF"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{placeholder:"Nombre",value:p.name,onChange:T=>E({...p,name:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsx("input",{placeholder:"Rol",value:p.role,onChange:T=>E({...p,role:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsx("input",{placeholder:"Especialidad",value:p.specialty,onChange:T=>E({...p,specialty:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsx("input",{placeholder:"URL Foto (https://...)",value:p.photoUrl,onChange:T=>E({...p,photoUrl:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsxs("div",{className:"flex gap-2 mt-4",children:[b.jsx("button",{onClick:()=>Z("staff",p),className:"flex-1 bg-brand-green text-black font-bold py-2",children:"GUARDAR"}),b.jsx("button",{onClick:()=>E(null),className:"flex-1 bg-gray-700 text-white font-bold py-2",children:"CANCELAR"})]})]})]})})]}),s==="clases"&&b.jsxs("div",{className:"animate-fade-in",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[r?.schedule?.map(T=>b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-4 relative group",children:[b.jsxs("div",{className:"absolute top-2 right-2 hidden group-hover:flex gap-2",children:[b.jsx("button",{onClick:()=>R(T),className:"bg-blue-600 p-1 text-white",children:b.jsx(km,{size:14})}),b.jsx("button",{onClick:()=>ie("schedule",T.id),className:"bg-red-600 p-1 text-white",children:b.jsx(Lm,{size:14})})]}),b.jsxs("div",{className:"text-brand-green font-bold text-xs",children:[T.day,"  ",T.time]}),b.jsx("div",{className:"font-display italic text-white text-lg",children:T.class}),b.jsxs("div",{className:"text-gray-500 text-xs",children:["Coach: ",T.coach]}),b.jsxs("div",{className:"text-gray-500 text-xs",children:["Cupos: ",T.spots]})]},T.id)),b.jsx("button",{onClick:()=>R({id:"",day:"LUNES",time:"",class:"",coach:"",spots:20,booked:0}),className:"border-2 border-dashed border-gray-800 flex items-center justify-center text-gray-600 hover:border-brand-green hover:text-brand-green h-24",children:"+ AGREGAR CLASE"})]}),A&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-neutral-900 border border-brand-green p-6 w-full max-w-md",children:[b.jsx("h3",{className:"text-xl font-display italic text-white mb-4",children:"EDITAR CLASE"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("select",{value:A.day,onChange:T=>R({...A,day:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white",children:["LUNES","MARTES","MIRCOLES","JUEVES","VIERNES","SBADO","DOMINGO"].map(T=>b.jsx("option",{value:T,children:T},T))}),b.jsx("input",{placeholder:"Hora (Ej: 07:00 AM)",value:A.time,onChange:T=>R({...A,time:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsx("input",{placeholder:"Nombre Clase",value:A.class,onChange:T=>R({...A,class:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsx("input",{placeholder:"Coach",value:A.coach,onChange:T=>R({...A,coach:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsx("input",{type:"number",placeholder:"Cupos",value:A.spots,onChange:T=>R({...A,spots:parseInt(T.target.value)}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsxs("div",{className:"flex gap-2 mt-4",children:[b.jsx("button",{onClick:()=>Z("schedule",A),className:"flex-1 bg-brand-green text-black font-bold py-2",children:"GUARDAR"}),b.jsx("button",{onClick:()=>R(null),className:"flex-1 bg-gray-700 text-white font-bold py-2",children:"CANCELAR"})]})]})]})})]}),s==="planes"&&b.jsxs("div",{className:"animate-fade-in",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[r?.plans?.map(T=>b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-6 relative group",children:[b.jsxs("div",{className:"absolute top-2 right-2 hidden group-hover:flex gap-2",children:[b.jsx("button",{onClick:()=>Q(T),className:"bg-blue-600 p-1 text-white",children:b.jsx(km,{size:14})}),b.jsx("button",{onClick:()=>ie("plans",T.id),className:"bg-red-600 p-1 text-white",children:b.jsx(Lm,{size:14})})]}),b.jsx("h3",{className:"text-xl font-display italic text-white",children:T.title}),b.jsxs("div",{className:"text-2xl font-bold text-brand-green",children:[T.currency,T.price]}),b.jsx("p",{className:"text-gray-400 text-sm",children:T.description}),b.jsx("div",{className:"mt-2 text-xs uppercase text-gray-500",children:T.visible?"VISIBLE":"OCULTO"})]},T.id)),b.jsx("button",{onClick:()=>Q({id:"",title:"",price:"",currency:"$",description:"",visible:!0}),className:"border-2 border-dashed border-gray-800 flex items-center justify-center text-gray-600 hover:border-brand-green hover:text-brand-green h-32",children:"+ AGREGAR PLAN"})]}),k&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-neutral-900 border border-brand-green p-6 w-full max-w-md",children:[b.jsx("h3",{className:"text-xl font-display italic text-white mb-4",children:"EDITAR PLAN"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{placeholder:"Nombre Plan",value:k.title,onChange:T=>Q({...k,title:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white"}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsx("input",{type:"number",placeholder:"Precio",value:k.price,onChange:T=>Q({...k,price:T.target.value}),className:"bg-black border border-gray-700 p-2 text-white"}),b.jsx("input",{placeholder:"Moneda ($)",value:k.currency,onChange:T=>Q({...k,currency:T.target.value}),className:"bg-black border border-gray-700 p-2 text-white"})]}),b.jsx("textarea",{placeholder:"Descripcin",value:k.description,onChange:T=>Q({...k,description:T.target.value}),className:"w-full bg-black border border-gray-700 p-2 text-white h-24"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",checked:k.visible,onChange:T=>Q({...k,visible:T.target.checked})}),b.jsx("label",{className:"text-white text-sm",children:"Visible al pblico"})]}),b.jsxs("div",{className:"flex gap-2 mt-4",children:[b.jsx("button",{onClick:()=>Z("plans",k),className:"flex-1 bg-brand-green text-black font-bold py-2",children:"GUARDAR"}),b.jsx("button",{onClick:()=>Q(null),className:"flex-1 bg-gray-700 text-white font-bold py-2",children:"CANCELAR"})]})]})]})})]}),s==="portada"&&b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-6 animate-fade-in max-w-2xl",children:[b.jsx("h3",{className:"text-xl font-display italic text-white mb-6",children:"EDITAR PORTADA (HERO)"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-mono text-gray-500 block mb-1",children:"TTULO PRINCIPAL (LNEA 1)"}),b.jsx("input",{value:r?.hero?.title1||"",onChange:T=>W({...r,hero:{...r.hero,title1:T.target.value}}),className:"w-full bg-black border border-gray-700 p-3 text-white focus:border-brand-green outline-none",placeholder:"EJ: ROMPE TUS"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-mono text-gray-500 block mb-1",children:"TTULO DESTACADO (LNEA 2)"}),b.jsx("input",{value:r?.hero?.title2||"",onChange:T=>W({...r,hero:{...r.hero,title2:T.target.value}}),className:"w-full bg-black border border-gray-700 p-3 text-brand-green font-bold focus:border-brand-green outline-none",placeholder:"EJ: LMITES"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-mono text-gray-500 block mb-1",children:"IMAGEN DE FONDO (URL)"}),b.jsx("input",{value:r?.hero?.bgImage||"",onChange:T=>W({...r,hero:{...r.hero,bgImage:T.target.value}}),className:"w-full bg-black border border-gray-700 p-3 text-white focus:border-brand-green outline-none text-xs",placeholder:"https://..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-mono text-gray-500 block mb-1",children:"TEXTO BOTN"}),b.jsx("input",{value:r?.hero?.cta||"",onChange:T=>W({...r,hero:{...r.hero,cta:T.target.value}}),className:"w-full bg-black border border-gray-700 p-3 text-white focus:border-brand-green outline-none",placeholder:"EJ: INICIAR SESIN"})]})]})]}),s==="config"&&b.jsx("div",{className:"space-y-8 animate-fade-in",children:b.jsxs("div",{className:"bg-neutral-900 border border-gray-800 p-6",children:[b.jsx("h3",{className:"text-xl font-display italic text-white mb-4",children:"MTODOS DE PAGO"}),b.jsx("div",{className:"space-y-4",children:Object.keys(r.paymentMethods||{}).map(T=>b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-brand-green uppercase font-bold",children:T}),b.jsx("textarea",{value:r.paymentMethods[T],onChange:D=>W({...r,paymentMethods:{...r.paymentMethods,[T]:D.target.value}}),className:"w-full bg-black border border-gray-700 p-2 text-white font-mono text-sm h-20"})]},T))})]})})]})};function zO(){const{user:r,userData:e,loading:n,notification:s}=ca(),[o,u]=H.useState(null),f=hr();H.useEffect(()=>{const p=sr(jn,"artifacts",zn,"public","content"),E=du(p,A=>{A.exists()?u(A.data()):(console.log("Creating Seed Data..."),Fh(p,S0),u(S0))});return()=>E()},[]);const m=({children:p})=>n?null:r?p:b.jsx(bm,{to:"/auth",state:{from:f},replace:!0}),g=({children:p})=>n?null:!r||e?.role!=="admin"?b.jsx(bm,{to:"/",replace:!0}):p;return o?b.jsxs("div",{className:"min-h-screen bg-black text-gray-100 font-sans selection:bg-brand-green selection:text-black",children:[b.jsx(OO,{}),b.jsxs(c1,{children:[b.jsx(Yr,{path:"/",element:b.jsx(VO,{data:o})}),b.jsx(Yr,{path:"/auth",element:b.jsx(kO,{})}),b.jsx(Yr,{path:"/schedule",element:b.jsx(UO,{gymData:o})}),b.jsx(Yr,{path:"/profile",element:b.jsx(m,{children:b.jsx(LO,{})})}),b.jsx(Yr,{path:"/payment",element:b.jsx(m,{children:b.jsx(PO,{gymData:o})})}),b.jsx(Yr,{path:"/admin",element:b.jsx(g,{children:b.jsx(jO,{gymData:o,setGymData:u})})}),b.jsx(Yr,{path:"*",element:b.jsx(bm,{to:"/",replace:!0})})]}),s&&b.jsx(MO,{notification:s})]}):b.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-brand-green font-display italic animate-pulse",children:"CARGANDO RECURSOS..."})}dw.createRoot(document.getElementById("root")).render(b.jsx(sw.StrictMode,{children:b.jsx(V1,{children:b.jsx(DO,{children:b.jsx(zO,{})})})}));
